---
uid: web-forms/overview/older-versions-getting-started/master-pages/nested-master-pages-cs
title: 중첩 마스터 페이지 (C#) | Microsoft Docs
author: rick-anderson
description: 다른 내에서 하나의 마스터 페이지를 중첩 하는 방법을 보여 줍니다.
ms.author: aspnetcontent
ms.date: 07/28/2008
ms.assetid: 32b7fb6e-d74b-4048-91f8-70631b2523ee
msc.legacyurl: /web-forms/overview/older-versions-getting-started/master-pages/nested-master-pages-cs
msc.type: authoredcontent
ms.openlocfilehash: 71cefa603d1b54e8dbbeb0f6e7e3ef8e0c0a93f8
ms.sourcegitcommit: b28cd0313af316c051c2ff8549865bff67f2fbb4
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 07/05/2018
ms.locfileid: "37840647"
---
<a name="nested-master-pages-c"></a><span data-ttu-id="c4d7b-103">중첩된 마스터 페이지 (C#)</span><span class="sxs-lookup"><span data-stu-id="c4d7b-103">Nested Master Pages (C#)</span></span>
====================
<span data-ttu-id="c4d7b-104">[Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="c4d7b-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="c4d7b-105">[코드를 다운로드](http://download.microsoft.com/download/d/6/6/d66ad554-afdd-409e-a5c3-201b774fbb31/ASPNET_MasterPages_Tutorial_10_CS.zip) 또는 [PDF 다운로드](http://download.microsoft.com/download/d/6/6/d66ad554-afdd-409e-a5c3-201b774fbb31/ASPNET_MasterPages_Tutorial_10_CS.pdf)</span><span class="sxs-lookup"><span data-stu-id="c4d7b-105">[Download Code](http://download.microsoft.com/download/d/6/6/d66ad554-afdd-409e-a5c3-201b774fbb31/ASPNET_MasterPages_Tutorial_10_CS.zip) or [Download PDF](http://download.microsoft.com/download/d/6/6/d66ad554-afdd-409e-a5c3-201b774fbb31/ASPNET_MasterPages_Tutorial_10_CS.pdf)</span></span>

> <span data-ttu-id="c4d7b-106">다른 내에서 하나의 마스터 페이지를 중첩 하는 방법을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-106">Shows how to nest one master page within another.</span></span>


## <a name="introduction"></a><span data-ttu-id="c4d7b-107">소개</span><span class="sxs-lookup"><span data-stu-id="c4d7b-107">Introduction</span></span>

<span data-ttu-id="c4d7b-108">지난 9 자습서에 걸쳐 마스터 페이지를 사용 하 여 사이트 전체 레이아웃을 구현 하는 방법을 살펴보았습니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-108">Over the course of the past nine tutorials we have seen how to implement a site-wide layout with master pages.</span></span> <span data-ttu-id="c4d7b-109">간단히 말해 마스터 페이지를 사용, 우리 페이지 개발자는 마스터 페이지 콘텐츠 페이지에서 콘텐츠 페이지 별로 사용자 지정할 수 있는 특정 지역에서에서 일반적인 태그를 정의 합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-109">In a nutshell, master pages allow us, the page developer, to define common markup in the master page along with specific regions that can be customized on a content page-by-content page basis.</span></span> <span data-ttu-id="c4d7b-110">마스터 페이지에 ContentPlaceHolder 컨트롤 표시를 사용자 지정할 수 있는 지역을 선택 합니다. ContentPlaceHolder 컨트롤에 대 한 사용자 지정 된 태그는 콘텐츠 컨트롤을 통해 콘텐츠 페이지에 정의 됩니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-110">The ContentPlaceHolder controls in a master page indicate the customizable regions; the customized markup for the ContentPlaceHolder controls are defined in the content page via Content controls.</span></span>

<span data-ttu-id="c4d7b-111">사이트 전체에서 사용 되는 단일 레이아웃이 있을 경우 지금 살펴보았습니다 마스터 페이지 기술을 탁월 합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-111">The master page techniques we've explored thus far are great if you have a single layout used across the entire site.</span></span> <span data-ttu-id="c4d7b-112">그러나 많은 대규모 웹 사이트 사용자 지정 된 사이트 레이아웃을 다양 한 섹션이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-112">However, many large websites have a site layout that is customized across various sections.</span></span> <span data-ttu-id="c4d7b-113">예를 들어 병원 직원이 환자 정보, 활동 및 청구를 관리 하는 데 사용 하는 의료 응용 프로그램을 고려 합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-113">For example, consider a health care application used by hospital staff to manage patient information, activities, and billing.</span></span> <span data-ttu-id="c4d7b-114">이 응용 프로그램에서 웹 페이지의 세 가지 유형의 있을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-114">There may be three types of web pages in this application:</span></span>

- <span data-ttu-id="c4d7b-115">직원 멤버 관련 페이지 직원 가용성을 업데이트할 수 있는 일정을 보거나 휴가 요청 합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-115">Staff member-specific pages where staff members can update availability, view schedules, or request vacation time.</span></span>
- <span data-ttu-id="c4d7b-116">직원 보거나 특정 환자에 대 한 정보를 편집 합니다. 여기서는 환자가 특정 페이지입니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-116">Patient-specific pages where staff members view or edit information for a specific patient.</span></span>
- <span data-ttu-id="c4d7b-117">Accountants 검토할 현재 있는 청구 관련 페이지에는 상태 및 재무 보고서 클레임입니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-117">Billing-specific pages where accountants review current claim statuses and financial reports.</span></span>

<span data-ttu-id="c4d7b-118">모든 페이지에 위쪽 및 아래쪽 자주 사용 되는 링크의 시리즈 메뉴와 같은 일반적인 레이아웃을 공유할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-118">Every page might share a common layout, such as a menu across the top and a series of frequently used links along the bottom.</span></span> <span data-ttu-id="c4d7b-119">하지만 직원, 환자 및 대금 청구 관련 페이지를이 일반적인 레이아웃을 사용자 지정 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-119">But the staff-, patient-, and billing-specific pages may need to customize this generic layout.</span></span> <span data-ttu-id="c4d7b-120">예를 들어, 아마도 모든 직원이 관련 페이지에는 현재 로그온된 한 사용자의 가용성 및 일별 일정을 표시 하는 일정 및 작업의 목록을 포함 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-120">For example, perhaps all staff-specific pages should include a calendar and task list showing the currently logged on user's availability and daily schedule.</span></span> <span data-ttu-id="c4d7b-121">아마도 모든 환자 특정 페이지 이름, 주소 및 해당 정보를 편집 하 고는 환자에 대 한 보험 정보를 표시 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-121">Perhaps all patient-specific pages need to show the name, address, and insurance information for the patient whose information is being edited.</span></span>

<span data-ttu-id="c4d7b-122">사용 하 여 이러한 사용자 지정된 레이아웃을 만들 수 있기 *중첩 된 마스터 페이지*합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-122">It's possible to create such customized layouts by using *nested master pages*.</span></span> <span data-ttu-id="c4d7b-123">위의 시나리오를 구현 하려면 ContentPlaceHolders 사용자 지정할 수 있는 지역 정의 사용 하 여 사이트 전체 레이아웃, 메뉴 및 바닥글 콘텐츠를 정의 하는 마스터 페이지를 만들어 시작 했습니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-123">To implement the above scenario, we would start by creating a master page that defined the site-wide layout, the menu and footer content, with ContentPlaceHolders defining the customizable regions.</span></span> <span data-ttu-id="c4d7b-124">에서는 다음 세 개의 중첩 된 마스터 페이지, 웹 페이지의 각 형식에 대 한 하나 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-124">We would then create three nested master pages, one for each type of web page.</span></span> <span data-ttu-id="c4d7b-125">각 중첩 된 마스터 페이지는 마스터 페이지를 사용 하는 콘텐츠 페이지의 형식 간에 콘텐츠를 정의 합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-125">Each nested master page would define the content among the type of content pages that use the master page.</span></span> <span data-ttu-id="c4d7b-126">즉, 태그 및 편집 하 고 환자에 대 한 정보를 표시 하기 위한 논리를 프로그래밍 방식으로 환자의 특정 콘텐츠 페이지에 대 한 중첩 된 마스터 페이지 포함 됩니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-126">In other words, the nested master page for patient-specific content pages would include markup and programmatic logic for displaying information about the patient being edited.</span></span> <span data-ttu-id="c4d7b-127">새 환자 관련 페이지를 만들 때에이 중첩 된 마스터 페이지에 바인딩하는 것 했습니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-127">When creating a new patient-specific page we would bind it to this nested master page.</span></span>

<span data-ttu-id="c4d7b-128">이 자습서는 중첩 된 마스터 페이지의 이점을 강조 표시 하 여 시작 합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-128">This tutorial starts by highlighting the benefits of nested master pages.</span></span> <span data-ttu-id="c4d7b-129">그런 다음 만들고 중첩된 마스터 페이지를 사용 하는 방법을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-129">It then shows how to create and use nested master pages.</span></span>

> [!NOTE]
> <span data-ttu-id="c4d7b-130">중첩된 마스터 페이지의.NET Framework 버전 2.0부터 불가능 했입니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-130">Nested master pages have been possible since version 2.0 of the .NET Framework.</span></span> <span data-ttu-id="c4d7b-131">그러나 Visual Studio 2005는 중첩 된 마스터 페이지에 대 한 디자인 타임 지원은 포함 되지 않았습니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-131">However, Visual Studio 2005 did not include design-time support for nested master pages.</span></span> <span data-ttu-id="c4d7b-132">좋은 소식은 Visual Studio 2008 중첩된 마스터 페이지는 다양 한 디자인 타임 환경을 제공 하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-132">The good news is that Visual Studio 2008 offers a rich design-time experience for nested master pages.</span></span> <span data-ttu-id="c4d7b-133">중첩된 마스터 페이지를 사용 하 여 관심 있는 해도 Visual Studio 2005를 여전히 사용 하는 경우 체크 아웃 [Scott Guthrie](https://weblogs.asp.net/scottgu/)의 블로그 항목 [VS 2005 디자인 타임에 중첩 된 마스터 페이지에 대 한 팁](https://weblogs.asp.net/scottgu/archive/2005/11/11/430382.aspx)합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-133">If you are interested in using nested master pages but are still using Visual Studio 2005, check out [Scott Guthrie](https://weblogs.asp.net/scottgu/)'s blog entry, [Tips for Nested Master Pages in VS 2005 Design-Time](https://weblogs.asp.net/scottgu/archive/2005/11/11/430382.aspx).</span></span>


## <a name="the-benefits-of-nested-master-pages"></a><span data-ttu-id="c4d7b-134">중첩된 마스터 페이지의 이점</span><span class="sxs-lookup"><span data-stu-id="c4d7b-134">The Benefits of Nested Master Pages</span></span>

<span data-ttu-id="c4d7b-135">많은 웹 사이트 페이지의 특정 형식에 특정 사용자 지정된 디자인 더 뿐만 아니라 사이트 디자인을 가장 중요 한 경우</span><span class="sxs-lookup"><span data-stu-id="c4d7b-135">Many websites have an overarching site design as well as more customized designs specific to certain types of pages.</span></span> <span data-ttu-id="c4d7b-136">예를 들어 데모 웹 응용 프로그램에서 만들었습니다 기본적인 관리 섹션 (페이지는 `~/Admin` 폴더).</span><span class="sxs-lookup"><span data-stu-id="c4d7b-136">For instance, in our demo web application we have created a rudimentary Administration section (the pages in the `~/Admin` folder).</span></span> <span data-ttu-id="c4d7b-137">현재 웹 페이지에는 `~/Admin` 관리 섹션에 없는 해당 페이지와 같은 마스터 페이지를 사용 하는 폴더 (즉, `Site.master` 또는 `Alternate.master`사용자의 선택에 따라).</span><span class="sxs-lookup"><span data-stu-id="c4d7b-137">Currently the web pages in the `~/Admin` folder use the same master page as those pages not in the administration section (namely, `Site.master` or `Alternate.master`, depending on the user's selection).</span></span>

> [!NOTE]
> <span data-ttu-id="c4d7b-138">이제 사이트 하나만 마스터 페이지에 잠깐 동안 `Site.master`합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-138">For now, pretend that our site has just one master page, `Site.master`.</span></span> <span data-ttu-id="c4d7b-139">"를 사용 하는 중첩 마스터 페이지에 대 한의 관리 섹션"을 사용 하 여 시작 하는 두 개 (이상) 마스터 페이지를 사용 하 여 중첩 된 마스터 페이지를 사용 하 여이 자습서의 뒷부분에서 다루겠습니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-139">We'll address using nested master pages with two (or more) master pages starting with "Using a Nested Master Page for the Administration Section" later in this tutorial.</span></span>


<span data-ttu-id="c4d7b-140">추가 정보 또는 그렇지 않은 경우 수 없는 사이트에서 다른 페이지에 있는 링크를 포함 하도록 관리 페이지의 레이아웃을 사용자 지정 요청을 받았습니다를 가정해 보겠습니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-140">Imagine that we were asked to customize the layout of the Administration pages to include additional information or links that would not otherwise be present in other pages in the site.</span></span> <span data-ttu-id="c4d7b-141">이 요구 사항을 구현 하는 다음과 같은 네 가지 기술이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-141">There are four techniques to implement this requirement:</span></span>

1. <span data-ttu-id="c4d7b-142">모든 콘텐츠 페이지에 관리 관련 정보 및 링크를 수동으로 추가 된 `~/Admin` 폴더입니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-142">Manually add the Administration-specific information and links to every content page in the `~/Admin` folder.</span></span>
2. <span data-ttu-id="c4d7b-143">업데이트 된 `Site.master` 관리 섹션에서는 관련 정보 및 링크를 포함 하 여 코드를 표시 하거나 숨기려면이 섹션에서는 마스터 페이지를 추가 하는 마스터 페이지 중 관리 페이지를 방문 하는 여부에 따라 합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-143">Update the `Site.master` master page to include the Administration section-specific information and links, and then add code to the master page to show or hide these sections based on whether one of the Administration pages is being visited.</span></span>
3. <span data-ttu-id="c4d7b-144">마스터 페이지를 새로 만들려면 관리 섹션을 위해 특별히에서 태그를 복사 `Site.master`관리 섹션에서는 관련 정보 및 링크를 추가 하 고 콘텐츠 페이지에 업데이트를 `~/Admin` 이 새 마스터를 사용 하는 폴더 페이지입니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-144">Create a new master page specifically for the Administration section, copy over the markup from `Site.master`, add the Administration section-specific information and links, and then update the content pages in the `~/Admin` folder to use this new master page.</span></span>
4. <span data-ttu-id="c4d7b-145">바인딩되는 중첩된 마스터 페이지를 만듭니다 `Site.master` 콘텐츠 페이지에 및를 `~/Admin` 마스터 페이지를 중첩 하는 새 폴더 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-145">Create a nested master page that binds to `Site.master` and have the content pages in the `~/Admin` folder use this new nested master page.</span></span> <span data-ttu-id="c4d7b-146">이 중첩된 마스터 페이지 추가 정보 및 특정 관리 페이지에 대 한 링크는 및에 이미 정의 된 태그를 반복 해야 `Site.master`합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-146">This nested master page would include just the additional information and links specific to the Administration pages and would not need to repeat the markup already defined in `Site.master`.</span></span>

<span data-ttu-id="c4d7b-147">첫 번째 옵션은 최소 마음에 들지 않는 경우</span><span class="sxs-lookup"><span data-stu-id="c4d7b-147">The first option is the least palatable.</span></span> <span data-ttu-id="c4d7b-148">마스터 페이지를 사용 하 여 전체 점은을 수동으로 복사 하 고 일반적인 태그 새 ASP.NET 페이지에 붙여 넣습니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-148">The whole point of using master pages is to move away from having to manually copy and paste common markup to new ASP.NET pages.</span></span> <span data-ttu-id="c4d7b-149">두 번째 옵션은 사용할 수 있지만 응용 프로그램을 줄이려면 대로 해당 관계식을 추가 하려면 개발자는 마스터 페이지를 편집이 태그를 해결 하려면 한 시기에 기억해 야 하며 가끔씩만 표시 되는 태그를 사용 하 여 마스터 페이지를 사용 하면 정확 하 게 숨긴 경우 특정 태그 및 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-149">The second option is acceptable, but makes the application less maintainable as it bulks up the master pages with markup that is only occasionally displayed and requires developers editing the master page to work around this markup and to have to remember when, exactly, certain markup is displayed versus when it is hidden.</span></span> <span data-ttu-id="c4d7b-150">이 방법은 점점 더 많은 유형의이 단일 마스터 페이지를 수용할 수 하는 데 필요한 웹 페이지에서 사용자 지정으로 작은 해 것입니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-150">This approach would be less tenable as customizations from more and more types of web pages needed to be accommodated by this single master page.</span></span>

<span data-ttu-id="c4d7b-151">세 번째 옵션은 혼잡 함을 제거 및 두 번째 옵션을 사용 하 여 복잡성 문제를 표시 합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-151">The third option removes the clutter and complexity issues the surfaced with the second option.</span></span> <span data-ttu-id="c4d7b-152">그러나 옵션 3의 주요 단점은 복사 및 붙여넣기에서 일반적인 레이아웃을 필요 하다는 점 `Site.master` 새 관리 섹션 별 마스터 페이지입니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-152">However, option three's main drawback is that it requires us to copy and paste the common layout from `Site.master` to the new Administration section-specific master page.</span></span> <span data-ttu-id="c4d7b-153">에서는 나중에 사이트 전체 레이아웃을 변경 하려면 두 위치에서 변경 해야 했습니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-153">If we later decide to change the site-wide layout we have to remember to change it in two places.</span></span>

<span data-ttu-id="c4d7b-154">네 번째 옵션을 중첩 마스터 페이지의 두 번째 및 세 번째 옵션을 제공 합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-154">The fourth option, nested master pages, give us the best of the second and third options.</span></span> <span data-ttu-id="c4d7b-155">사이트 전체 레이아웃 정보를 특정 지역에 특정 콘텐츠를 다른 파일에 분산 되어 있지만 하나의 최상위 마스터 페이지 파일에 유지 됩니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-155">The site-wide layout information is maintained in one file - the top-level master page - while the content specific to particular regions is separated out into different files.</span></span>

<span data-ttu-id="c4d7b-156">이 자습서를 살펴보고 만들고 간단한 중첩된 마스터 페이지를 사용 하 여 시작 합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-156">This tutorial starts with a look at creating and using a simple nested master page.</span></span> <span data-ttu-id="c4d7b-157">에서는 새로운 최상위 마스터 페이지, 두 개의 중첩 된 마스터 페이지 및 두 개의 콘텐츠 페이지를 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-157">We create a brand new top-level master page, two nested master pages, and two content pages.</span></span> <span data-ttu-id="c4d7b-158">중첩된 마스터 페이지의 사용을 포함 하도록 기존 마스터 페이지 아키텍처에 업데이트를 "를 사용 하는 중첩 마스터 페이지에 대 한의 관리 섹션"부터 살펴보겠습니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-158">Starting with "Using a Nested Master Page for the Administration Section," we look at updating our existing master page architecture to include the use of nested master pages.</span></span> <span data-ttu-id="c4d7b-159">특히, 중첩된 된 마스터 페이지를 생성 하 고 콘텐츠 페이지의 추가 사용자 지정 콘텐츠를 포함 하는 데 사용할는 `~/Admin` 폴더입니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-159">Specifically, we create a nested master page and use it to include additional custom content for the content pages in the `~/Admin` folder.</span></span>

## <a name="step-1-creating-a-simple-top-level-master-page"></a><span data-ttu-id="c4d7b-160">1 단계: 간단한 최상위 마스터 페이지 만들기</span><span class="sxs-lookup"><span data-stu-id="c4d7b-160">Step 1: Creating a Simple Top-Level Master Page</span></span>

<span data-ttu-id="c4d7b-161">중첩 된 마스터 만들기 하나를 기반으로 기존 마스터 페이지 및 기존 콘텐츠 페이지에 특정 항목을 이미 예상 하기 때문에 일부 복잡성을 수반를 업데이트 하는 최상위 마스터 페이지 대신이 새로운 중첩된 마스터 페이지를 사용 하도록 기존 콘텐츠 페이지 Contentplaceholder 최상위 마스터에서 페이지를 정의 합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-161">Creating a nested master based on one of the existing master pages and then updating an existing content page to use this new nested master page instead of the top-level master page entails some complexity because the existing content pages already expect certain ContentPlaceHolder controls defined in the top-level master page.</span></span> <span data-ttu-id="c4d7b-162">따라서 중첩된 마스터 페이지는 같은 이름의 동일한 ContentPlaceHolder 컨트롤 포함도 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-162">Therefore, the nested master page must also include the same ContentPlaceHolder controls with the same names.</span></span> <span data-ttu-id="c4d7b-163">또한 특정 데모 응용 프로그램에 두 마스터 페이지 (`Site.master` 고 `Alternate.master`)이이 복잡성을 더 추가 하는 사용자의 기본 설정에 따라 콘텐츠 페이지에 동적으로 할당 되는 합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-163">Furthermore, our particular demo application has two master pages (`Site.master` and `Alternate.master`) that are dynamically assigned to a content page based on a user's preferences, which further adds to this complexity.</span></span> <span data-ttu-id="c4d7b-164">이 자습서의 뒷부분에서 중첩 된 마스터 페이지를 사용 하 여 기존 응용 프로그램 업데이트 살펴보겠습니다 있지만 보겠습니다 간단한 첫 번째 포커스 중첩 마스터 페이지 예제.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-164">We will look at updating the existing application to use nested master pages later in this tutorial, but let's first focus on a simple nested master pages example.</span></span>

<span data-ttu-id="c4d7b-165">라는 새 폴더를 만듭니다 `NestedMasterPages` 라는 해당 폴더에 새 마스터 페이지 파일을 추가한 `Simple.master`합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-165">Create a new folder named `NestedMasterPages` and then add a new master page file to that folder named `Simple.master`.</span></span> <span data-ttu-id="c4d7b-166">(그림 1 참조 솔루션 탐색기의 스크린 샷을 대 한이 폴더 및 파일 추가 된 후). 끌어서는 `AlternateStyles.css` 디자이너 솔루션 탐색기에서 스타일 시트 파일입니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-166">(See Figure 1 for a screen shot of the Solution Explorer after this folder and file have been added.) Drag the `AlternateStyles.css` style sheet file from the Solution Explorer onto the Designer.</span></span> <span data-ttu-id="c4d7b-167">이 추가 `<link>` 스타일 시트 파일에 요소를 `<head>` 요소 뒤 마스터 페이지의 `<head>` 요소의 태그와 같습니다:</span><span class="sxs-lookup"><span data-stu-id="c4d7b-167">This adds a `<link>` element to the style sheet file in the `<head>` element, after which the master page's `<head>` element's markup should look like:</span></span>


[!code-aspx[Main](nested-master-pages-cs/samples/sample1.aspx)]

<span data-ttu-id="c4d7b-168">그런 다음의 웹 폼 내에서 다음 태그를 추가 `Simple.master`:</span><span class="sxs-lookup"><span data-stu-id="c4d7b-168">Next, add the following markup within the Web Form of `Simple.master`:</span></span>


[!code-aspx[Main](nested-master-pages-cs/samples/sample2.aspx)]

<span data-ttu-id="c4d7b-169">이 태그는 남색 배경 기반 흰색 큰 글꼴로 페이지의 맨 위에 있는 "중첩 마스터 페이지 (단순)" 라는 링크를 표시 합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-169">This markup displays a link titled "Nested Master Pages (Simple)" at the top of the page in a large white font on a navy background.</span></span> <span data-ttu-id="c4d7b-170">아래에 `MainContent` ContentPlaceHolder 합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-170">Beneath that is the `MainContent` ContentPlaceHolder.</span></span> <span data-ttu-id="c4d7b-171">그림 1은 `Simple.master` Visual Studio 디자이너에 로드 된 경우 마스터 페이지입니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-171">Figure 1 shows the `Simple.master` master page when loaded in the Visual Studio Designer.</span></span>


<span data-ttu-id="c4d7b-172">[![중첩 된 마스터 페이지의 관리 섹션의 페이지에 콘텐츠 관련 정의](nested-master-pages-cs/_static/image2.png)](nested-master-pages-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="c4d7b-172">[![The Nested Master Page Defines Content Specific to the Pages in the Administration Section](nested-master-pages-cs/_static/image2.png)](nested-master-pages-cs/_static/image1.png)</span></span>

<span data-ttu-id="c4d7b-173">**그림 01**: The 중첩 마스터 페이지 정의 콘텐츠 관련 관리 섹션의 페이지 ([큰 이미지를 보려면 클릭](nested-master-pages-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="c4d7b-173">**Figure 01**: The Nested Master Page Defines Content Specific to the Pages in the Administration Section ([Click to view full-size image](nested-master-pages-cs/_static/image3.png))</span></span>


## <a name="step-2-creating-a-simple-nested-master-page"></a><span data-ttu-id="c4d7b-174">2 단계: 간단한 중첩된 마스터 페이지 만들기</span><span class="sxs-lookup"><span data-stu-id="c4d7b-174">Step 2: Creating a Simple Nested Master Page</span></span>

<span data-ttu-id="c4d7b-175">`Simple.master` 두 ContentPlaceHolder 컨트롤이 포함 되어 있습니다:는 `MainContent` 와 함께 Web Form 내에서 추가한 ContentPlaceHolder를 `head` 에 ContentPlaceHolder를 `<head>` 요소.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-175">`Simple.master` contains two ContentPlaceHolder controls: the `MainContent` ContentPlaceHolder we added within the Web Form along with the `head` ContentPlaceHolder in the `<head>` element.</span></span> <span data-ttu-id="c4d7b-176">콘텐츠 페이지를 만들고에 바인딩할 경우 `Simple.master` 콘텐츠 페이지에는 두 콘텐츠 컨트롤을 두 ContentPlaceHolders 참조 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-176">If we were to create a content page and bind it to `Simple.master` the content page would have two Content controls referencing the two ContentPlaceHolders.</span></span> <span data-ttu-id="c4d7b-177">마찬가지로, 경우 중첩 된 마스터 페이지를 만들고에 바인딩할 `Simple.master` 중첩된 마스터 페이지는 두 콘텐츠 컨트롤을 합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-177">Similarly, if we create a nested master page and bind it to `Simple.master` then the nested master page will have two Content controls.</span></span>

<span data-ttu-id="c4d7b-178">새 중첩된 마스터 페이지를 추가 해 보겠습니다 합니다 `NestedMasterPages` 라는 폴더 `SimpleNested.master`합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-178">Let's add a new nested master page to the `NestedMasterPages` folder named `SimpleNested.master`.</span></span> <span data-ttu-id="c4d7b-179">마우스 오른쪽 단추로 클릭는 `NestedMasterPages` 폴더 새 항목 추가 선택 합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-179">Right-click on the `NestedMasterPages` folder and choose Add New Item.</span></span> <span data-ttu-id="c4d7b-180">그러면 그림 2에 표시 된 새 항목 추가 대화 상자.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-180">This brings up the Add New Item dialog box shown in Figure 2.</span></span> <span data-ttu-id="c4d7b-181">마스터 페이지 템플릿 유형 및 새 마스터 페이지 이름을 입력을 선택 합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-181">Select the Master Page template type and type in the name of the new master page.</span></span> <span data-ttu-id="c4d7b-182">새 마스터 페이지가 중첩된 된 마스터 페이지를 함을 나타내려면 "마스터 페이지 선택" 확인란을 선택 합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-182">To indicate that the new master page should be a nested master page, check the "Select master page" checkbox.</span></span>

<span data-ttu-id="c4d7b-183">추가 단추를 클릭 합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-183">Next, click the Add button.</span></span> <span data-ttu-id="c4d7b-184">동일한 Select 마스터 페이지 콘텐츠 페이지를 바인딩할 때 마스터 페이지 대화 상자를 표시 됩니다 (그림 3 참조).</span><span class="sxs-lookup"><span data-stu-id="c4d7b-184">This will display the same Select a Master Page dialog box you see when binding a content page to a master page (see Figure 3).</span></span> <span data-ttu-id="c4d7b-185">선택는 `Simple.master` 에서 마스터 페이지는 `NestedMasterPages` 폴더 확인을 클릭 합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-185">Choose the `Simple.master` master page in the `NestedMasterPages` folder and click OK.</span></span>

> [!NOTE]
> <span data-ttu-id="c4d7b-186">웹 응용 프로그램 프로젝트 모델을 사용 하 여 웹 사이트 프로젝트 모델 대신 ASP.NET 웹 사이트를 만든 경우에 그림 2에 표시 된 새 항목 추가 대화 상자에서 확인란을 "마스터 페이지 선택"이 표시 되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-186">If you created your ASP.NET website using the Web Application Project model instead of the Web Site Project model you will not see the "Select master page" checkbox in the Add New Item dialog box shown in Figure 2.</span></span> <span data-ttu-id="c4d7b-187">웹 응용 프로그램 프로젝트 모델을 사용 하는 경우 중첩된 된 마스터 페이지를 만들려면 (마스터 페이지 템플릿) 대신 중첩 마스터 페이지 템플릿을 선택 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-187">To create a nested master page when using the Web Application Project model you must choose the Nested Master Page template (instead of the Master Page template).</span></span> <span data-ttu-id="c4d7b-188">중첩 된 마스터 페이지 템플릿을 선택한 후 추가 클릭 하 그림 3 에서처럼 대화 상자가 나타납니다. 마스터 페이지 선택 동일 합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-188">After selecting the Nested Master Page template and clicking Add, the same Select a Master Page dialog box shown in Figure 3 will appear.</span></span>


<span data-ttu-id="c4d7b-189">[![확인 합니다 &quot;마스터 페이지 선택&quot; 중첩 마스터 페이지를 추가 하려면이 확인란을](nested-master-pages-cs/_static/image5.png)](nested-master-pages-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="c4d7b-189">[![Check the &quot;Select master page&quot; Checkbox to Add a Nested Master Page](nested-master-pages-cs/_static/image5.png)](nested-master-pages-cs/_static/image4.png)</span></span>

<span data-ttu-id="c4d7b-190">**그림 02**: 중첩 마스터 페이지를 추가 하려면 "마스터 페이지 선택"을 확인란 ([큰 이미지를 보려면 클릭](nested-master-pages-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="c4d7b-190">**Figure 02**: Check the "Select master page" Checkbox to Add a Nested Master Page ([Click to view full-size image](nested-master-pages-cs/_static/image6.png))</span></span>


<span data-ttu-id="c4d7b-191">[![중첩 된 마스터 페이지 Simple.master 마스터 페이지에 바인딩](nested-master-pages-cs/_static/image8.png)](nested-master-pages-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="c4d7b-191">[![Bind the Nested Master Page to the Simple.master Master Page](nested-master-pages-cs/_static/image8.png)](nested-master-pages-cs/_static/image7.png)</span></span>

<span data-ttu-id="c4d7b-192">**그림 03**: 중첩 마스터 페이지를 바인딩하는 `Simple.master` 마스터 페이지 ([클릭 하 여 큰 이미지 보기](nested-master-pages-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="c4d7b-192">**Figure 03**: Bind the Nested Master Page to the `Simple.master` Master Page ([Click to view full-size image](nested-master-pages-cs/_static/image9.png))</span></span>


<span data-ttu-id="c4d7b-193">중첩된 마스터 페이지의 선언적 태그를 아래에 나와 있는 두 콘텐츠 컨트롤을 최상위 마스터 페이지의 두 ContentPlaceHolder 컨트롤 참조를 포함 합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-193">The nested master page's declarative markup, shown below, contains two Content controls referencing the top-level master page's two ContentPlaceHolder controls.</span></span>


[!code-aspx[Main](nested-master-pages-cs/samples/sample3.aspx)]

<span data-ttu-id="c4d7b-194">제외 하 고는 `<%@ Master %>` 지시문에 중첩 된 마스터 페이지의 초기 선언적 태그는 동일한 최상위 마스터 페이지 콘텐츠 페이지에 바인딩할 때 처음에 생성 되는 태그와 동일 합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-194">Except for the `<%@ Master %>` directive, the nested master page's initial declarative markup is identical to the markup that is initially generated when binding a content page to the same top-level master page.</span></span> <span data-ttu-id="c4d7b-195">콘텐츠 페이지와 같은 `<%@ Page %>` 지시문을는 `<%@ Master %>` 지시문을 여기에 포함 됩니다는 `MasterPageFile` 중첩된 마스터 페이지의 부모 마스터 페이지를 지정 하는 특성입니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-195">Like a content page's `<%@ Page %>` directive, the `<%@ Master %>` directive here includes a `MasterPageFile` attribute that specifies the nested master page's parent master page.</span></span> <span data-ttu-id="c4d7b-196">중첩된 마스터 페이지와 같은 최상위 마스터 페이지에 바인딩된 콘텐츠 페이지 간의 주요 차이점은 중첩 된 마스터 페이지 contentplaceholder를 포함할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-196">The main difference between the nested master page and a content page bound to the same top-level master page is that the nested master page can include ContentPlaceHolder controls.</span></span> <span data-ttu-id="c4d7b-197">중첩된 마스터 페이지의 ContentPlaceHolder 컨트롤 콘텐츠 페이지 태그를 사용자 지정할 수 있는 영역을 정의 합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-197">The nested master page's ContentPlaceHolder controls define the regions where the content pages can customize the markup.</span></span>

<span data-ttu-id="c4d7b-198">"Hello, from SimpleNested!" 텍스트가 표시 되도록이 중첩 된 마스터 페이지 업데이트</span><span class="sxs-lookup"><span data-stu-id="c4d7b-198">Update this nested master page so that it displays the text "Hello, from SimpleNested!"</span></span> <span data-ttu-id="c4d7b-199">에 해당 하는 콘텐츠 컨트롤에는 `MainContent` 각각의 ContentPlaceHolder 컨트롤로 합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-199">in the Content control that corresponds to the `MainContent` ContentPlaceHolder control.</span></span>


[!code-aspx[Main](nested-master-pages-cs/samples/sample4.aspx)]

<span data-ttu-id="c4d7b-200">이 추가 마치면 중첩된 마스터 페이지를 저장 하 고 새 콘텐츠 페이지를 추가 합니다 `NestedMasterPages` 라는 폴더 `Default.aspx`에 바인딩할는 `SimpleNested.master` 마스터 페이지입니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-200">After making this addition, save the nested master page and then add a new content page to the `NestedMasterPages` folder named `Default.aspx`, and bind it to the `SimpleNested.master` master page.</span></span> <span data-ttu-id="c4d7b-201">이 페이지를 추가 하면 (그림 4 참조) 콘텐츠 컨트롤이 포함 되어 있는지 확인할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-201">Upon adding this page you may be surprised to see that it contains no Content controls (see Figure 4)!</span></span> <span data-ttu-id="c4d7b-202">콘텐츠 페이지에만 액세스할 수 해당 *부모* 페이지의 ContentPlaceHolders를 마스터 합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-202">A content page can only access its *parent* master page's ContentPlaceHolders.</span></span> <span data-ttu-id="c4d7b-203">`SimpleNested.master` ContentPlaceHolder 컨트롤이; 들어 있지 않습니다. 따라서이 마스터 페이지에 바인딩된 모든 콘텐츠 페이지는 모든 콘텐츠 컨트롤을 포함할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-203">`SimpleNested.master` does not contain any ContentPlaceHolder controls; therefore, any content page bound to this master page cannot contain any Content controls.</span></span>


<span data-ttu-id="c4d7b-204">[![새 콘텐츠 페이지에 콘텐츠 컨트롤이 없는](nested-master-pages-cs/_static/image11.png)](nested-master-pages-cs/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="c4d7b-204">[![The New Content Page Contains No Content Controls](nested-master-pages-cs/_static/image11.png)](nested-master-pages-cs/_static/image10.png)</span></span>

<span data-ttu-id="c4d7b-205">**그림 04**:의 새 콘텐츠 페이지 포함 아니요 콘텐츠 컨트롤 ([큰 이미지를 보려면 클릭](nested-master-pages-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="c4d7b-205">**Figure 04**: The New Content Page Contains No Content Controls ([Click to view full-size image](nested-master-pages-cs/_static/image12.png))</span></span>


<span data-ttu-id="c4d7b-206">중첩된 마스터 페이지를 업데이트 하는 위해 필요한 것은 (`SimpleNested.master`) contentplaceholder를 포함 합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-206">What we need to do is update the nested master page (`SimpleNested.master`) to include ContentPlaceHolder controls.</span></span> <span data-ttu-id="c4d7b-207">일반적으로 필요 하다는 ContentPlaceHolder 해당 부모 마스터 페이지에서 정의한 각 ContentPlaceHolder 있기 때문에 해당 자식 마스터 페이지나 콘텐츠 페이지에는 최상위 마스터 페이지의 ContentPlaceHolder를 사용 하 여 작업을 포함 하려면 중첩 된 마스터 페이지 컨트롤입니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-207">Typically you'll want your nested master pages to include a ContentPlaceHolder for each ContentPlaceHolder defined by its parent master page, thereby allowing its child master page or content page to work with any of the top-level master page's ContentPlaceHolder controls.</span></span>

<span data-ttu-id="c4d7b-208">업데이트 된 `SimpleNested.master` 해당 두 콘텐츠 컨트롤에 ContentPlaceHolder를 포함할 마스터 페이지입니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-208">Update the `SimpleNested.master` master page to include a ContentPlaceHolder in its two Content controls.</span></span> <span data-ttu-id="c4d7b-209">ContentPlaceHolder 컨트롤을 해당 콘텐츠 컨트롤을 가리킵니다 ContentPlaceHolder 컨트롤로 같은 이름을 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-209">Give the ContentPlaceHolder controls the same name as the ContentPlaceHolder control their Content control refers to.</span></span> <span data-ttu-id="c4d7b-210">이라는 ContentPlaceHolder 컨트롤을 추가 `MainContent` 에서 콘텐츠를 제어할 `SimpleNested.master` 를 참조 하는 합니다 `MainContent` 에 ContentPlaceHolder `Simple.master`합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-210">That is, add a ContentPlaceHolder control named `MainContent` to the Content control in `SimpleNested.master` that references the `MainContent` ContentPlaceHolder in `Simple.master`.</span></span> <span data-ttu-id="c4d7b-211">참조 하는 콘텐츠 컨트롤에 동일한 작업을 수행 합니다 `head` ContentPlaceHolder 합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-211">Do the same thing in the Content control that references the `head` ContentPlaceHolder.</span></span>

> [!NOTE]
> <span data-ttu-id="c4d7b-212">중첩된 마스터 페이지의 ContentPlaceHolder 컨트롤을 최상위 마스터 페이지에서 ContentPlaceHolders 동일 명명을 권장 하는 동안에이 명명 대칭 필요 하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-212">While I recommend naming the ContentPlaceHolder controls in the nested master page the same as the ContentPlaceHolders in the top-level master page, this naming symmetry is not required.</span></span> <span data-ttu-id="c4d7b-213">지정할 수 있습니다 ContentPlaceHolder 컨트롤 중첩된 마스터 페이지에서 원하는 어떤 이름도.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-213">You can give the ContentPlaceHolder controls in your nested master page any name you like.</span></span> <span data-ttu-id="c4d7b-214">그러나 찾습니까 ContentPlaceHolders 협력 기억 하기 쉬운 내 최상위 마스터 페이지 및 중첩 된 마스터 페이지에 동일한 이름을 사용 하는 경우 페이지의 어떤 지역입니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-214">However, I find it easier to remember what ContentPlaceHolders correspond with what regions of the page if my top-level master page and nested master pages use the same names.</span></span>


<span data-ttu-id="c4d7b-215">이러한 추가 기능을 적용 한 후에 `SimpleNested.master` 마스터 페이지의 선언적 태그는 다음과 유사 합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-215">After making these additions your `SimpleNested.master` master page's declarative markup should look similar to the following:</span></span>


[!code-aspx[Main](nested-master-pages-cs/samples/sample5.aspx)]

<span data-ttu-id="c4d7b-216">삭제 합니다 `Default.aspx` 방금 만든 페이지 콘텐츠 및 다시 추가한 후에 바인딩하지는 `SimpleNested.master` 마스터 페이지입니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-216">Delete the `Default.aspx` content page we just created and then re-add it, binding it to the `SimpleNested.master` master page.</span></span> <span data-ttu-id="c4d7b-217">이 이번 Visual Studio 추가 두 콘텐츠 컨트롤을 `Default.aspx`에 정의 된 이제는 ContentPlaceHolders 참조 `SimpleNested.master` (그림 6 참조).</span><span class="sxs-lookup"><span data-stu-id="c4d7b-217">This time Visual Studio adds two Content controls to the `Default.aspx`, referencing the ContentPlaceHolders now defined in `SimpleNested.master` (see Figure 6).</span></span> <span data-ttu-id="c4d7b-218">"Default.aspx에서: Hello!" 텍스트를 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-218">Add the text, "Hello, from Default.aspx!"</span></span> <span data-ttu-id="c4d7b-219">참조 되는 콘텐츠 제어 `MainContent`입니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-219">in the Content control that referenced `MainContent`.</span></span>

<span data-ttu-id="c4d7b-220">그림 5에서 관련 된 세 가지 엔터티를 보여 줍니다 `Simple.master`, `SimpleNested.master`, 및 `Default.aspx` -와 서로 관계입니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-220">Figure 5 shows the three entities involved here - `Simple.master`, `SimpleNested.master`, and `Default.aspx` - and how they relate to one another.</span></span> <span data-ttu-id="c4d7b-221">다이어그램에서 알 수 있듯이, 중첩된 마스터 페이지는 해당 부모의 ContentPlaceHolder를 콘텐츠 컨트롤을 구현 합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-221">As the diagram shows, the nested master page implements Content controls for its parent's ContentPlaceHolder.</span></span> <span data-ttu-id="c4d7b-222">콘텐츠 페이지에 액세스할 수 있도록 이러한 지역의 경우 중첩 된 마스터 페이지를 사용 하 여 자체 ContentPlaceHolders 콘텐츠 컨트롤에 추가 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-222">If these regions need to be accessible to the content page, the nested master page must add its own ContentPlaceHolders to the Content controls.</span></span>


<span data-ttu-id="c4d7b-223">[![최상위 및 중첩 된 마스터 페이지 콘텐츠 페이지의 레이아웃 지정](nested-master-pages-cs/_static/image14.png)](nested-master-pages-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="c4d7b-223">[![The Top-Level and Nested Master Pages Dictate the Content Page's Layout](nested-master-pages-cs/_static/image14.png)](nested-master-pages-cs/_static/image13.png)</span></span>

<span data-ttu-id="c4d7b-224">**그림 05**: 최상위 및 중첩 된 마스터 페이지 콘텐츠 페이지의 레이아웃을 결정 ([큰 이미지를 보려면 클릭](nested-master-pages-cs/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="c4d7b-224">**Figure 05**: The Top-Level and Nested Master Pages Dictate the Content Page's Layout ([Click to view full-size image](nested-master-pages-cs/_static/image15.png))</span></span>


<span data-ttu-id="c4d7b-225">이 동작은 콘텐츠 페이지 또는 마스터 페이지는 해당 부모 마스터 페이지에 인식 에서만 하는 방법을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-225">This behavior illustrates how a content page or master page is only cognizant of its parent master page.</span></span> <span data-ttu-id="c4d7b-226">이 동작은 Visual Studio 디자이너에도 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-226">This behavior is also indicated by the Visual Studio Designer.</span></span> <span data-ttu-id="c4d7b-227">그림 6에 대 한 디자이너를 보여 줍니다. `Default.aspx`합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-227">Figure 6 shows the Designer for `Default.aspx`.</span></span> <span data-ttu-id="c4d7b-228">디자이너를 명확 하 게를 표시 하지만 일부 되지 않습니다 및 콘텐츠 페이지에서 편집할 수 있는 지역은 어디 인가요 명령이 중첩된 마스터 페이지에서 편집할 수 없는 지역 이란 무엇 이며 최상위 마스터 페이지의 영역을 명확히 구분 하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-228">While the Designer clearly shows what regions are editable from the content page and what portions aren't, it doesn't disambiguate what non-editable regions are from the nested master page and what regions are from the top-level master page.</span></span>


<span data-ttu-id="c4d7b-229">[![콘텐츠 페이지 이제 ContentPlaceHolders 중첩 된 마스터 페이지에 대 한 콘텐츠 컨트롤을 포함](nested-master-pages-cs/_static/image17.png)](nested-master-pages-cs/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="c4d7b-229">[![The Content Page Now Includes Content Controls for the Nested Master Page's ContentPlaceHolders](nested-master-pages-cs/_static/image17.png)](nested-master-pages-cs/_static/image16.png)</span></span>

<span data-ttu-id="c4d7b-230">**그림 06**: The 콘텐츠 페이지 이제 포함 콘텐츠 컨트롤에 중첩 된 마스터 페이지의 ContentPlaceHolders ([큰 이미지를 보려면 클릭](nested-master-pages-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="c4d7b-230">**Figure 06**: The Content Page Now Includes Content Controls for the Nested Master Page's ContentPlaceHolders ([Click to view full-size image](nested-master-pages-cs/_static/image18.png))</span></span>


## <a name="step-3-adding-a-second-simple-nested-master-page"></a><span data-ttu-id="c4d7b-231">3 단계: 두 번째 간단한 중첩된 마스터 페이지 추가</span><span class="sxs-lookup"><span data-stu-id="c4d7b-231">Step 3: Adding a Second Simple Nested Master Page</span></span>

<span data-ttu-id="c4d7b-232">여러 마스터 페이지를 중첩 하는 경우 중첩 된 마스터 페이지의 장점은 더 분명 하 게 합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-232">The benefit of nested master pages is more evident when there are multiple nested master pages.</span></span> <span data-ttu-id="c4d7b-233">이 혜택을 설명 하기 위해 만들려면 또 다른 중첩 된 마스터 페이지에는 `NestedMasterPages` 폴더; 이름 새로 추가 된이 중첩 마스터 페이지 `SimpleNestedAlternate.master` 에 바인딩할는 `Simple.master` 마스터 페이지입니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-233">To illustrate this benefit, create another nested master page in the `NestedMasterPages` folder; name this new nested master page `SimpleNestedAlternate.master` and bind it to the `Simple.master` master page.</span></span> <span data-ttu-id="c4d7b-234">2 단계에서에서 수행한 것 처럼 중첩 된 마스터 페이지의 두 콘텐츠 컨트롤에 contentplaceholder를 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-234">Add ContentPlaceHolder controls in the nested master page's two Content controls like we did in Step 2.</span></span> <span data-ttu-id="c4d7b-235">"Hello, from SimpleNestedAlternate!" 라는 텍스트를 추가</span><span class="sxs-lookup"><span data-stu-id="c4d7b-235">Also add the text, "Hello, from SimpleNestedAlternate!"</span></span> <span data-ttu-id="c4d7b-236">최상위 마스터 페이지에 해당 하는 콘텐츠 컨트롤의 `MainContent` ContentPlaceHolder 합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-236">in the Content control that corresponds to the top-level master page's `MainContent` ContentPlaceHolder.</span></span> <span data-ttu-id="c4d7b-237">이러한 변경을 수행한 후 새 중첩된 마스터 페이지의 선언적 태그는 다음과 비슷하게 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-237">After making these changes your new nested master page's declarative markup should look similar to the following:</span></span>


[!code-aspx[Main](nested-master-pages-cs/samples/sample6.aspx)]

<span data-ttu-id="c4d7b-238">명명 된 콘텐츠 페이지를 만들 `Alternate.aspx` 에 `NestedMasterPages` 폴더에 바인딩할는 `SimpleNestedAlternate.master` 중첩된 마스터 페이지.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-238">Create a content page named `Alternate.aspx` in the `NestedMasterPages` folder and bind it to the `SimpleNestedAlternate.master` nested master page.</span></span> <span data-ttu-id="c4d7b-239">"대체에서: Hello!" 텍스트를 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-239">Add the text, "Hello, from Alternate!"</span></span> <span data-ttu-id="c4d7b-240">에 해당 하는 콘텐츠 컨트롤의 `MainContent`합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-240">in the Content control that corresponds to `MainContent`.</span></span> <span data-ttu-id="c4d7b-241">그림 7은 `Alternate.aspx` Visual Studio 디자이너를 통해 볼 때.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-241">Figure 7 shows `Alternate.aspx` when viewed through the Visual Studio Designer.</span></span>


<span data-ttu-id="c4d7b-242">[![Alternate.aspx는 SimpleNestedAlternate.master 마스터 페이지에 바인딩되어](nested-master-pages-cs/_static/image20.png)](nested-master-pages-cs/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="c4d7b-242">[![Alternate.aspx is Bound to the SimpleNestedAlternate.master Master Page](nested-master-pages-cs/_static/image20.png)](nested-master-pages-cs/_static/image19.png)</span></span>

<span data-ttu-id="c4d7b-243">**그림 07**: `Alternate.aspx` 바인딩되는 `SimpleNestedAlternate.master` 마스터 페이지 ([클릭 하 여 큰 이미지 보기](nested-master-pages-cs/_static/image21.png))</span><span class="sxs-lookup"><span data-stu-id="c4d7b-243">**Figure 07**: `Alternate.aspx` is Bound to the `SimpleNestedAlternate.master` Master Page ([Click to view full-size image](nested-master-pages-cs/_static/image21.png))</span></span>


<span data-ttu-id="c4d7b-244">그림 7 그림 6의 디자이너에서에서 디자이너를 비교 합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-244">Compare the Designer in Figure 7 to the Designer in Figure 6.</span></span> <span data-ttu-id="c4d7b-245">최상위 마스터 페이지에 정의 된 동일한 레이아웃을 공유 하는 두 콘텐츠 페이지 (`Simple.master`), 즉 "중첩 마스터 페이지 자습서 (단순)" 제목입니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-245">Both content pages share the same layout defined in the top-level master page (`Simple.master`), namely the "Nested Master Pages Tutorial (Simple)" title.</span></span> <span data-ttu-id="c4d7b-246">고유한 콘텐츠 부모 마스터 페이지-에 정의 된 "Hello, from SimpleNested!" 텍스트 둘 다 아직</span><span class="sxs-lookup"><span data-stu-id="c4d7b-246">Yet both have distinct content defined in their parent master pages - the text "Hello, from SimpleNested!"</span></span> <span data-ttu-id="c4d7b-247">그림 6에 "Hello, from SimpleNestedAlternate!"</span><span class="sxs-lookup"><span data-stu-id="c4d7b-247">in Figure 6 and "Hello, from SimpleNestedAlternate!"</span></span> <span data-ttu-id="c4d7b-248">그림 7.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-248">in Figure 7.</span></span> <span data-ttu-id="c4d7b-249">사실 여기 이러한 차이 사소한 있지만이 예제에서는 좀 더 의미 있는 차이점을 포함 하도록 확장할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-249">Granted, these differences here are trivial, but you could extend this example to include more meaningful differences.</span></span> <span data-ttu-id="c4d7b-250">예를 들어 합니다 `SimpleNested.master` 반면 페이지에서 해당 콘텐츠 페이지에 관련 된 옵션을 사용 하 여 메뉴를 포함 될 수 있습니다 `SimpleNestedAlternate.master` 정보에 바인딩되는 콘텐츠 페이지와 관련이 있을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-250">For instance, the `SimpleNested.master` page might include a menu with options specific to its content pages, whereas `SimpleNestedAlternate.master` might have information pertinent to the content pages that bind to it.</span></span>

<span data-ttu-id="c4d7b-251">이제 가장 중요 한 사이트 레이아웃을 변경 해야 한다고 가정 합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-251">Now, imagine that we needed to make a change to the overarching site layout.</span></span> <span data-ttu-id="c4d7b-252">예를 들어, 모든 콘텐츠 페이지에 일반 연결의 목록을 추가 하 려 한다고 가정 합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-252">For example, imagine that we wanted to add a list of common links to all content pages.</span></span> <span data-ttu-id="c4d7b-253">최상위 마스터 페이지를 업데이트 하는 것이 위해 `Simple.master`합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-253">To accomplish this we update the top-level master page, `Simple.master`.</span></span> <span data-ttu-id="c4d7b-254">중첩된 마스터 페이지에서 더 나아가 해당 콘텐츠 페이지에 바로 모든 변경 사항이 반영 됩니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-254">Any changes there are immediately reflected in its nested master pages and, by extension, their content pages.</span></span>

<span data-ttu-id="c4d7b-255">에서는 가장 중요 한 사이트 레이아웃을 변경할 수 있는 간편 하 게를 보여 주기 위해 엽니다는 `Simple.master` 마스터 페이지 및 사이 다음 태그를 추가 합니다 `topContent` 및 `mainContent` `<div>` 요소:</span><span class="sxs-lookup"><span data-stu-id="c4d7b-255">To demonstrate the ease with which we can change the overarching site layout, open the `Simple.master` master page and add the following markup between the `topContent` and `mainContent` `<div>` elements:</span></span>


[!code-aspx[Main](nested-master-pages-cs/samples/sample7.aspx)]

<span data-ttu-id="c4d7b-256">바인딩되는 모든 페이지의 맨 위에 두 개의 링크 추가 `Simple.master`, `SimpleNested.master`, 또는 `SimpleNestedAlternate.master`; 모든 중첩 된 마스터 페이지 및 해당 콘텐츠 페이지에 이러한 변경 내용은 즉시 적용 됩니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-256">This adds two links to the top of every page that binds to `Simple.master`, `SimpleNested.master`, or `SimpleNestedAlternate.master`; these changes apply to all nested master pages and their content pages immediately.</span></span> <span data-ttu-id="c4d7b-257">그림 8 나와 `Alternate.aspx` 브라우저를 통해 볼 때.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-257">Figure 8 shows `Alternate.aspx` when viewed through a browser.</span></span> <span data-ttu-id="c4d7b-258">Note (그림 7에 비해) 페이지의 맨 위에 있는 링크를 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-258">Note the addition of the links at the top of the page (compared to Figure 7).</span></span>


<span data-ttu-id="c4d7b-259">[![해당 중첩 마스터 페이지 및 해당 콘텐츠 페이지에 즉시 반영 됩니다 최상위 마스터 페이지를 변경 합니다.](nested-master-pages-cs/_static/image23.png)](nested-master-pages-cs/_static/image22.png)</span><span class="sxs-lookup"><span data-stu-id="c4d7b-259">[![Changed to the Top-Level Master Page are Immediately Reflected in its Nested Master Pages and Their Content Pages](nested-master-pages-cs/_static/image23.png)](nested-master-pages-cs/_static/image22.png)</span></span>

<span data-ttu-id="c4d7b-260">**그림 08**: 해당 중첩 마스터 페이지 및 해당 콘텐츠 페이지에 즉시 반영 됩니다 최상위 마스터 페이지를 변경 ([큰 이미지를 보려면 클릭](nested-master-pages-cs/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="c4d7b-260">**Figure 08**: Changed to the Top-Level Master Page are Immediately Reflected in its Nested Master Pages and Their Content Pages ([Click to view full-size image](nested-master-pages-cs/_static/image24.png))</span></span>


## <a name="using-a-nested-master-page-for-the-administration-section"></a><span data-ttu-id="c4d7b-261">중첩된 마스터 페이지를 사용 하 여 관리 섹션</span><span class="sxs-lookup"><span data-stu-id="c4d7b-261">Using a Nested Master Page for the Administration Section</span></span>

<span data-ttu-id="c4d7b-262">이 시점에 살펴본 중첩 된 마스터의 장점을 페이지 하 고 만들고 ASP.NET 응용 프로그램에서 사용 하는 방법을 살펴보았습니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-262">At this point we have looked at the advantages of nested master pages and have seen how to create and use them in an ASP.NET application.</span></span> <span data-ttu-id="c4d7b-263">그러나 1, 2 및 3 단계에서 예제는 새 최상위 마스터 페이지, 새 중첩된 마스터 페이지 및 새 콘텐츠 페이지를 만드는 관여 합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-263">The examples in Steps 1, 2, and 3, however, involved creating a new top-level master page, new nested master pages, and new content pages.</span></span> <span data-ttu-id="c4d7b-264">새 중첩된 마스터 페이지를 웹 사이트를 기존 최상위 마스터 페이지를 사용 하 여 및 콘텐츠 페이지 추가 어떨까요?</span><span class="sxs-lookup"><span data-stu-id="c4d7b-264">What about adding a new nested master page to a website with an existing top-level master page and content pages?</span></span>

<span data-ttu-id="c4d7b-265">기존 웹 사이트에 중첩된 된 마스터 페이지를 통합 하 고 기존 콘텐츠 페이지를 사용 하 여 연결부터 시작 하는 보다 약간 더 많은 노력이 필요 합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-265">Integrating a nested master page into an existing website and associating it with existing content pages requires a bit more effort than starting from scratch.</span></span> <span data-ttu-id="c4d7b-266">4, 5, 6 및 7 단계 라는 새 중첩된 마스터 페이지를 포함 하도록 데모 응용 프로그램을 살펴보면서으로 이러한 문제를 탐색 `AdminNested.master` 관리자에 대 한 지침을 포함 하 고 ASP.NET 페이지에서 사용 되는 `~/Admin` 폴더입니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-266">Steps 4, 5, 6, and 7 explore these challenges as we augment our demo application to include a new nested master page named `AdminNested.master` that contains instructions for the administrator and is used by the ASP.NET pages in the `~/Admin` folder.</span></span>

<span data-ttu-id="c4d7b-267">데모 응용 프로그램에 중첩된 된 마스터 페이지를 통합 다음 단점을 제공 합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-267">Integrating a nested master page into our demo application introduces the following hurdles:</span></span>

- <span data-ttu-id="c4d7b-268">기존 콘텐츠 페이지에 `~/Admin` 폴더는 해당 마스터 페이지에서 특정 기대 합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-268">The existing content pages in the `~/Admin` folder have certain expectations from their master page.</span></span> <span data-ttu-id="c4d7b-269">먼저 있어야 특정 ContentPlaceHolder 컨트롤 기대 합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-269">For starters, they expect certain ContentPlaceHolder controls to be present.</span></span> <span data-ttu-id="c4d7b-270">또한 합니다 `~/Admin/AddProduct.aspx` 및 `~/Admin/Products.aspx` 페이지 호출 마스터 페이지의 공용 `RefreshRecentProductsGrid` 메서드를 설정 해당 `GridMessageText` 속성에 대 한 이벤트 처리기 또는 해당 `PricesDoubled` 이벤트입니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-270">Furthermore, the `~/Admin/AddProduct.aspx` and `~/Admin/Products.aspx` pages call the master page's public `RefreshRecentProductsGrid` method, set its `GridMessageText` property, or have an event handler for its `PricesDoubled` event.</span></span> <span data-ttu-id="c4d7b-271">따라서 중첩된 마스터 페이지는 동일한 ContentPlaceHolders 및 공용 멤버를 제공 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-271">Consequently, our nested master page must provide the same ContentPlaceHolders and public members.</span></span>
- <span data-ttu-id="c4d7b-272">이전 자습서에서 개선 되었습니다 합니다 `BasePage` 동적으로 설정 하는 클래스를 `Page` 개체의 `MasterPageFile` 세션 변수를 기반으로 속성입니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-272">In the preceding tutorial we enhanced the `BasePage` class to dynamically set the `Page` object's `MasterPageFile` property based on a Session variable.</span></span> <span data-ttu-id="c4d7b-273">에 지원 방식 동적 마스터 페이지 중첩된 마스터 페이지를 사용 하는 경우?</span><span class="sxs-lookup"><span data-stu-id="c4d7b-273">How to we support dynamic master pages when using nested master pages?</span></span>

<span data-ttu-id="c4d7b-274">이러한 두 가지 문제를 중첩된 마스터 페이지를 작성 하 고 기존 콘텐츠 페이지에서 사용 하는 대로 노출 됩니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-274">These two challenges will surface as we build the nested master page and use it from our existing content pages.</span></span> <span data-ttu-id="c4d7b-275">조사 하 고 발생 하면 이러한 문제를 작업도 비교적 쉽습니다 됩니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-275">We'll investigate and surmount these issues as they arise.</span></span>

## <a name="step-4-creating-the-nested-master-page"></a><span data-ttu-id="c4d7b-276">4 단계: 중첩 된 마스터 페이지 만들기</span><span class="sxs-lookup"><span data-stu-id="c4d7b-276">Step 4: Creating the Nested Master Page</span></span>

<span data-ttu-id="c4d7b-277">우리의 첫 번째 작업의 관리 섹션의 페이지에서 사용할 중첩된 마스터 페이지를 만드는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-277">Our first task is to create the nested master page to be used by the pages in the Administration section.</span></span> <span data-ttu-id="c4d7b-278">중첩 된 마스터 페이지를 새로 추가 하는 경우 2 단계에서에서 설명한 것 처럼 중첩 된 마스터 페이지의 부모 마스터 페이지를 지정 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-278">As we saw in Step 2, when adding a new nested master page we need to specify the nested master page's parent master page.</span></span> <span data-ttu-id="c4d7b-279">두 개의 최상위 마스터 페이지를 했습니다: `Site.master` 및 `Alternate.master`합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-279">But we have two top-level master pages: `Site.master` and `Alternate.master`.</span></span> <span data-ttu-id="c4d7b-280">만든 회수 `Alternate.master` 이전 자습서에서에서 코드를 작성 하 고는 `BasePage` Page 개체를 설정 하는 클래스 `MasterPageFile` 속성을 런타임에 `Site.master` 또는 `Alternate.master` 값에 따라는 `MyMasterPage` 세션 변수입니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-280">Recall that we created `Alternate.master` in the preceding tutorial and wrote code in the `BasePage` class that set the Page object's `MasterPageFile` property at runtime to either `Site.master` or `Alternate.master` depending on the value of the `MyMasterPage` Session variable.</span></span>

<span data-ttu-id="c4d7b-281">구성 하려면 어떻게에서는 중첩 된 마스터 페이지를 해당 최상위 마스터 페이지를 사용 하도록?</span><span class="sxs-lookup"><span data-stu-id="c4d7b-281">How do we configure our nested master page so that it uses the appropriate top-level master page?</span></span> <span data-ttu-id="c4d7b-282">두 가지 옵션이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-282">We have two options:</span></span>

- <span data-ttu-id="c4d7b-283">두 개의 중첩 된 마스터 페이지를 만들고 `AdminNestedSite.master` 하 고 `AdminNestedAlternate.master`를 최상위 마스터 페이지를 바인딩합니다 `Site.master` 및 `Alternate.master`각각.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-283">Create two nested master pages, `AdminNestedSite.master` and `AdminNestedAlternate.master`, and bind them to the top-level master pages `Site.master` and `Alternate.master`, respectively.</span></span> <span data-ttu-id="c4d7b-284">`BasePage`, 차례로 설정할 것을 `Page` 개체의 `MasterPageFile` 적절 한 중첩 마스터 페이지.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-284">In `BasePage`, then, we'd set the `Page` object's `MasterPageFile` to the appropriate nested master page.</span></span>
- <span data-ttu-id="c4d7b-285">중첩된 된 단일 마스터 페이지를 만들고이 마스터 페이지를 사용 하 여 콘텐츠 페이지를 가진 합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-285">Create a single nested master page and have the content pages use this particular master page.</span></span> <span data-ttu-id="c4d7b-286">그런 다음 런타임에 설정 해야 중첩된 마스터 페이지의 `MasterPageFile` 런타임에 적절 한 최상위 마스터 페이지에는 속성입니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-286">Then, at runtime, we'd need to set the nested master page's `MasterPageFile` property to the appropriate top-level master page at runtime.</span></span> <span data-ttu-id="c4d7b-287">(마스터 페이지 수도 이제 알게 될 수 있습니다, 대로 `MasterPageFile` 속성입니다.)</span><span class="sxs-lookup"><span data-stu-id="c4d7b-287">(As you might have figured out by now, master pages also have a `MasterPageFile` property.)</span></span>

<span data-ttu-id="c4d7b-288">두 번째 옵션을 사용해 보겠습니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-288">Let's use the second option.</span></span> <span data-ttu-id="c4d7b-289">하나의 파일을 만들 중첩 마스터 페이지에는 `~/Admin` 라는 폴더 `AdminNested.master`합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-289">Create a single nested master page file in the `~/Admin` folder named `AdminNested.master`.</span></span> <span data-ttu-id="c4d7b-290">때문에 둘 다 `Site.master` 하 고 `Alternate.master` contentplaceholder의 동일한 집합이 되도록 바인딩할 바랍니다 하지만 마스터 페이지에 바인딩합니다, 중요 하지 않습니다 `Site.master` 일관성의 위해서입니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-290">Because both `Site.master` and `Alternate.master` have the same set of ContentPlaceHolder controls, it doesn't matter what master page you bind it to, although I encourage you to bind it to `Site.master` for consistency's sake.</span></span>


<span data-ttu-id="c4d7b-291">[![~/Admin 폴더에는 중첩 된 마스터 페이지를 추가 합니다.](nested-master-pages-cs/_static/image26.png)](nested-master-pages-cs/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="c4d7b-291">[![Add a Nested Master Page to the ~/Admin Folder.](nested-master-pages-cs/_static/image26.png)](nested-master-pages-cs/_static/image25.png)</span></span>

<span data-ttu-id="c4d7b-292">**그림 09**: 중첩 된 마스터 페이지를 추가 합니다 `~/Admin` 폴더입니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-292">**Figure 09**: Add a Nested Master Page to the `~/Admin` Folder.</span></span> <span data-ttu-id="c4d7b-293">([클릭 하 여 큰 이미지 보기](nested-master-pages-cs/_static/image27.png))</span><span class="sxs-lookup"><span data-stu-id="c4d7b-293">([Click to view full-size image](nested-master-pages-cs/_static/image27.png))</span></span>


<span data-ttu-id="c4d7b-294">Visual Studio 추가 4 중첩된 마스터 페이지에 4 개의 ContentPlaceHolder 컨트롤과 마스터 페이지에 바인딩되기 때문에 콘텐츠 컨트롤을 새 중첩된 마스터 페이지 파일 초기 태그입니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-294">Because the nested master page is bound to a master page with four ContentPlaceHolder controls, Visual Studio adds four Content controls to the new nested master page file's initial markup.</span></span> <span data-ttu-id="c4d7b-295">2 단계와 3 단계에서 각 콘텐츠 컨트롤에는 각각의 ContentPlaceHolder 컨트롤로 추가 최상위 마스터 페이지의 ContentPlaceHolder 컨트롤로 동일한 이름을 지정에서 수행한 것과 같이</span><span class="sxs-lookup"><span data-stu-id="c4d7b-295">Like we did in Steps 2 and 3, add a ContentPlaceHolder control in each Content control, giving it the same name as the top-level master page's ContentPlaceHolder control.</span></span> <span data-ttu-id="c4d7b-296">또한 해당 하는 콘텐츠 컨트롤에 다음 태그를 추가 합니다 `MainContent` ContentPlaceHolder:</span><span class="sxs-lookup"><span data-stu-id="c4d7b-296">Also add the following markup to the Content control that corresponds to the `MainContent` ContentPlaceHolder:</span></span>


[!code-html[Main](nested-master-pages-cs/samples/sample8.html)]

<span data-ttu-id="c4d7b-297">다음으로 정의 된 `instructions` CSS 클래스를 `Styles.css` 및 `AlternateStyles.css` CSS 파일.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-297">Next, define the `instructions` CSS class in the `Styles.css` and `AlternateStyles.css` CSS files.</span></span> <span data-ttu-id="c4d7b-298">다음 CSS 규칙으로 인해 스타일이 적용 되는 HTML 요소는 `instructions` 연한 노랑 배경색을 검은색 실선 테두리와 표시 되는 클래스:</span><span class="sxs-lookup"><span data-stu-id="c4d7b-298">The following CSS rules cause HTML elements styled with the `instructions` class to be displayed with a light yellow background color and a black, solid border:</span></span>


[!code-css[Main](nested-master-pages-cs/samples/sample9.css)]

<span data-ttu-id="c4d7b-299">이 태그 중첩된 마스터 페이지에 추가 되었으므로,이 중첩 된 마스터 페이지 (즉, 관리 섹션에서 페이지)를 사용 하는 해당 페이지에만 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-299">Because this markup has been added to the nested master page, it will only appear in those pages that use this nested master page (namely, the pages in the Administration section).</span></span>

<span data-ttu-id="c4d7b-300">중첩된 마스터 페이지에 대 한 이러한 추가 마치면 선언적 태그는 다음과 같아야 합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-300">After making these additions to your nested master page, its declarative markup should look similar to the following:</span></span>


[!code-aspx[Main](nested-master-pages-cs/samples/sample10.aspx)]

<span data-ttu-id="c4d7b-301">각 콘텐츠 컨트롤에 각각의 ContentPlaceHolder 컨트롤로 올바르고 ContentPlaceHolder 컨트롤의 `ID` 속성 최상위 마스터 페이지에서 해당 ContentPlaceHolder 컨트롤로 동일한 값이 할당 됩니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-301">Note that each Content control has a ContentPlaceHolder control and that the ContentPlaceHolder controls' `ID` properties are assigned the same values as the corresponding ContentPlaceHolder controls in the top-level master page.</span></span> <span data-ttu-id="c4d7b-302">관리 섹션에서는 특정 태그에 표시 되는 또한는 `MainContent` ContentPlaceHolder 합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-302">Moreover, the Administration section-specific markup appears in the `MainContent` ContentPlaceHolder.</span></span>

<span data-ttu-id="c4d7b-303">그림 10은는 `AdminNested.master` Visual Studio의 디자이너를 통해 볼 때 중첩 된 마스터 페이지입니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-303">Figure 10 shows the `AdminNested.master` nested master page when viewed through Visual Studio's Designer.</span></span> <span data-ttu-id="c4d7b-304">맨 위에 있는 노란색 상자의 지침을 볼 수는 `MainContent` 콘텐츠 컨트롤입니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-304">You can see the instructions in the yellow box at the top of the `MainContent` Content control.</span></span>


<span data-ttu-id="c4d7b-305">[![중첩 된 마스터 페이지는 관리자에 대 한 지침을 포함 하도록 최상위 마스터 페이지를 확장 합니다.](nested-master-pages-cs/_static/image29.png)](nested-master-pages-cs/_static/image28.png)</span><span class="sxs-lookup"><span data-stu-id="c4d7b-305">[![The Nested Master Page Extends the Top-Level Master Page to Include Instructions for the Administrator.](nested-master-pages-cs/_static/image29.png)](nested-master-pages-cs/_static/image28.png)</span></span>

<span data-ttu-id="c4d7b-306">**그림 10**: 중첩 된 마스터 페이지는 관리자에 대 한 지침을 포함 하도록 최상위 마스터 페이지를 확장 합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-306">**Figure 10**: The Nested Master Page Extends the Top-Level Master Page to Include Instructions for the Administrator.</span></span> <span data-ttu-id="c4d7b-307">([클릭 하 여 큰 이미지 보기](nested-master-pages-cs/_static/image30.png))</span><span class="sxs-lookup"><span data-stu-id="c4d7b-307">([Click to view full-size image](nested-master-pages-cs/_static/image30.png))</span></span>


## <a name="step-5-updating-the-existing-content-pages-to-use-the-new-nested-master-page"></a><span data-ttu-id="c4d7b-308">5 단계: 새 중첩된 마스터 페이지를 사용 하려면 기존 콘텐츠 페이지 업데이트</span><span class="sxs-lookup"><span data-stu-id="c4d7b-308">Step 5: Updating the Existing Content Pages to Use the New Nested Master Page</span></span>

<span data-ttu-id="c4d7b-309">새 콘텐츠 페이지에 연결 하려면 먼저 관리 섹션을 추가 하 고 언제 든 지는 `AdminNested.master` 방금 만든 마스터 페이지입니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-309">Anytime we add a new content page to the Administration section we need to bind it to the `AdminNested.master` master page we just created.</span></span> <span data-ttu-id="c4d7b-310">하지만 페이지 콘텐츠 기존 어떨까요?</span><span class="sxs-lookup"><span data-stu-id="c4d7b-310">But what about the existing content pages?</span></span> <span data-ttu-id="c4d7b-311">사이트의 모든 콘텐츠 페이지에서 파생 되는 현재는 `BasePage` 프로그래밍 방식으로 런타임에 콘텐츠 페이지의 마스터 페이지를 설정 하는 클래스입니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-311">Currently, all content pages in the site derive from the `BasePage` class, which programmatically sets the content page's master page at runtime.</span></span> <span data-ttu-id="c4d7b-312">관리 섹션에서 콘텐츠 페이지에 사용 하려는 동작이 아닙니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-312">This is not the behavior we want for the content pages in the Administration section.</span></span> <span data-ttu-id="c4d7b-313">이러한 콘텐츠 페이지를 사용 하 여 항상 원하는 대신는 `AdminNested.master` 페이지입니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-313">Instead, we want these content pages to always use the `AdminNested.master` page.</span></span> <span data-ttu-id="c4d7b-314">런타임 시 오른쪽 최상위 콘텐츠 페이지를 선택 합니다. 중첩된 마스터 페이지에서 수행 됩니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-314">It will be the responsibility of the nested master page to choose the right top-level content page at runtime.</span></span>

<span data-ttu-id="c4d7b-315">달성 하는 가장 좋은 방법은 원하는 것이 동작은 라는 새 기본 페이지를 사용자 지정 클래스를 만드는 것 `AdminBasePage` 확장 하는 `BasePage` 클래스입니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-315">To best way to achieve this desired behavior is to create a new custom base page class named `AdminBasePage` that extends the `BasePage` class.</span></span> <span data-ttu-id="c4d7b-316">`AdminBasePage` 다음 재정의할 수는 `SetMasterPageFile` 설정 합니다 `Page` 개체의 `MasterPageFile` 하드 코드 된 값으로 "~ / Admin/AdminNested.master".</span><span class="sxs-lookup"><span data-stu-id="c4d7b-316">`AdminBasePage` can then override the `SetMasterPageFile` and set the `Page` object's `MasterPageFile` to the hard-coded value "~/Admin/AdminNested.master".</span></span> <span data-ttu-id="c4d7b-317">이러한 방식으로 모든 페이지에서 파생 된 `AdminBasePage` 사용할지 `AdminNested.master`반면에서 파생 되는 모든 페이지 `BasePage` 해야 해당 `MasterPageFile` 속성 설정에 동적으로 "~ / Site.master" 또는 "~ / Alternate.master"의 값을 기반으로 `MyMasterPage` 세션 변수입니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-317">In this way, any page that derives from `AdminBasePage` will use `AdminNested.master`, whereas any page that derives from `BasePage` will have its `MasterPageFile` property set dynamically to either "~/Site.master" or "~/Alternate.master" based on the value of the `MyMasterPage` Session variable.</span></span>

<span data-ttu-id="c4d7b-318">새 클래스 파일을 추가 하 여 시작 합니다 `App_Code` 라는 폴더 `AdminBasePage.cs`합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-318">Start by adding a new class file to the `App_Code` folder named `AdminBasePage.cs`.</span></span> <span data-ttu-id="c4d7b-319">있을 `AdminBasePage` 확장할 `BasePage` 한 후 재정의 `SetMasterPageFile` 메서드.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-319">Have `AdminBasePage` extend `BasePage` and then override the `SetMasterPageFile` method.</span></span> <span data-ttu-id="c4d7b-320">할당 메서드에 `MasterPageFile` 값 "~ / Admin/AdminNested.master"입니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-320">In that method assign the `MasterPageFile` the value "~/Admin/AdminNested.master".</span></span> <span data-ttu-id="c4d7b-321">클래스에 이러한 변경을 수행한 후 파일에는 다음과 같아야 합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-321">After making these changes your class file should look similar to the following:</span></span>


[!code-csharp[Main](nested-master-pages-cs/samples/sample11.cs)]

<span data-ttu-id="c4d7b-322">관리 섹션에서 파생 된 기존 콘텐츠 페이지에 이제 해야 `AdminBasePage` 대신 `BasePage`합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-322">We now need to have the existing content pages in the Administration section derive from `AdminBasePage` instead of `BasePage`.</span></span> <span data-ttu-id="c4d7b-323">각 콘텐츠 페이지에 대 한 코드 숨김 클래스 파일을 이동 합니다 `~/Admin` 폴더가 변경 합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-323">Go to the code-behind class file for each content page in the `~/Admin` folder and make this change.</span></span> <span data-ttu-id="c4d7b-324">예를 들어 `~/Admin/Default.aspx` 코드 숨김 클래스 선언에서 변경할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-324">For example, in `~/Admin/Default.aspx` you'd change the code-behind class declaration from:</span></span>


[!code-csharp[Main](nested-master-pages-cs/samples/sample12.cs)]

<span data-ttu-id="c4d7b-325">대상:</span><span class="sxs-lookup"><span data-stu-id="c4d7b-325">To:</span></span>


[!code-csharp[Main](nested-master-pages-cs/samples/sample13.cs)]

<span data-ttu-id="c4d7b-326">그림 11을 보여 줍니다 어떻게 최상위 마스터 페이지 (`Site.master` 또는 `Alternate.master`), 중첩된 마스터 페이지 (`AdminNested.master`), 하 고 관리 섹션 콘텐츠 페이지는 서로 관련이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-326">Figure 11 depicts how the top-level master page (`Site.master` or `Alternate.master`), the nested master page (`AdminNested.master`), and the Administration section content pages relate to one another.</span></span>


<span data-ttu-id="c4d7b-327">[![중첩 된 마스터 페이지의 관리 섹션의 페이지에 콘텐츠 관련 정의](nested-master-pages-cs/_static/image32.png)](nested-master-pages-cs/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="c4d7b-327">[![The Nested Master Page Defines Content Specific to the Pages in the Administration Section](nested-master-pages-cs/_static/image32.png)](nested-master-pages-cs/_static/image31.png)</span></span>

<span data-ttu-id="c4d7b-328">**그림 11**: The 중첩 마스터 페이지 정의 콘텐츠 관련 관리 섹션의 페이지 ([큰 이미지를 보려면 클릭](nested-master-pages-cs/_static/image33.png))</span><span class="sxs-lookup"><span data-stu-id="c4d7b-328">**Figure 11**: The Nested Master Page Defines Content Specific to the Pages in the Administration Section ([Click to view full-size image](nested-master-pages-cs/_static/image33.png))</span></span>


## <a name="step-6-mirroring-the-master-pages-public-methods-and-properties"></a><span data-ttu-id="c4d7b-329">6 단계: 마스터 페이지의 공용 메서드 및 속성 미러링</span><span class="sxs-lookup"><span data-stu-id="c4d7b-329">Step 6: Mirroring the Master Page's Public Methods and Properties</span></span>

<span data-ttu-id="c4d7b-330">이전에 설명한 대로 합니다 `~/Admin/AddProduct.aspx` 하 고 `~/Admin/Products.aspx` 페이지 마스터 페이지를 사용 하 여 프로그래밍 방식으로 상호 작용: `~/Admin/AddProduct.aspx` 호출 마스터 페이지의 공용 `RefreshRecentProductsGrid` 메서드 집합과 해당 `GridMessageText` 속성 `~/Admin/Products.aspx` 에 대 한 이벤트 처리기는 `PricesDoubled` 이벤트입니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-330">Recall that the `~/Admin/AddProduct.aspx` and `~/Admin/Products.aspx` pages interact programmatically with the master page: `~/Admin/AddProduct.aspx` calls the master page's public `RefreshRecentProductsGrid` method and sets its `GridMessageText` property; `~/Admin/Products.aspx` has an event handler for the `PricesDoubled` event.</span></span> <span data-ttu-id="c4d7b-331">이전 자습서에서 만든 추상 `BaseMasterPage` 이러한 공용 멤버를 정의 하는 클래스입니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-331">In the preceding tutorial we created an abstract `BaseMasterPage` class that defined these public members.</span></span>

<span data-ttu-id="c4d7b-332">합니다 `~/Admin/AddProduct.aspx` 및 `~/Admin/Products.aspx` 페이지의 마스터 페이지에서 파생 되는 것으로 가정 합니다 `BaseMasterPage` 클래스입니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-332">The `~/Admin/AddProduct.aspx` and `~/Admin/Products.aspx` pages assume that their master page derives from the `BaseMasterPage` class.</span></span> <span data-ttu-id="c4d7b-333">`AdminNested.master` 페이지에서 단, 현재 확장을 `System.Web.UI.MasterPage` 클래스.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-333">The `AdminNested.master` page, however, currently extends the `System.Web.UI.MasterPage` class.</span></span> <span data-ttu-id="c4d7b-334">결과적으로 방문할 때 `~/Admin/Products.aspx` 는 `InvalidCastException` 메시지와 함께 throw 됩니다: "종류의 개체를 캐스팅할 수 없습니다. ' ASP.admin\_adminnested\_마스터 ' 'BaseMasterPage'를 입력 합니다."</span><span class="sxs-lookup"><span data-stu-id="c4d7b-334">As a result, when visiting `~/Admin/Products.aspx` an `InvalidCastException` is thrown with the message: "Unable to cast object of type 'ASP.admin\_adminnested\_master' to type 'BaseMasterPage'."</span></span>

<span data-ttu-id="c4d7b-335">있어야이 문제를 해결 합니다 `AdminNested.master` 코드 숨김 클래스 확장 `BaseMasterPage`합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-335">To fix this we need to have the `AdminNested.master` code-behind class extend `BaseMasterPage`.</span></span> <span data-ttu-id="c4d7b-336">중첩된 마스터 페이지의 코드 숨김 클래스 선언에서 업데이트:</span><span class="sxs-lookup"><span data-stu-id="c4d7b-336">Update the nested master page's code-behind class declaration from:</span></span>


[!code-csharp[Main](nested-master-pages-cs/samples/sample14.cs)]

<span data-ttu-id="c4d7b-337">대상:</span><span class="sxs-lookup"><span data-stu-id="c4d7b-337">To:</span></span>


[!code-csharp[Main](nested-master-pages-cs/samples/sample15.cs)]

<span data-ttu-id="c4d7b-338">에서는 아직 완료 되지 합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-338">We're not done yet.</span></span> <span data-ttu-id="c4d7b-339">때문에 합니다 `BaseMasterPage` 클래스는 추상 클래스에서 재정의 해야 합니다 `abstract` 멤버 `RefreshRecentProductsGrid` 및 `GridMessageText`합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-339">Because the `BaseMasterPage` class is abstract, we need to override the `abstract` members, `RefreshRecentProductsGrid` and `GridMessageText`.</span></span> <span data-ttu-id="c4d7b-340">이러한 멤버는 해당 사용자 인터페이스를 업데이트 하려면 최상위 마스터 페이지에서 사용 됩니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-340">These members are used by the top-level master pages to update their user interfaces.</span></span> <span data-ttu-id="c4d7b-341">(사실에 합니다 `Site.master` 마스터 페이지는 모두 최상위 마스터 페이지 모두 확장 되므로 이러한 메서드를 구현 하지만 이러한 메서드를 사용 하 여 `BaseMasterPage`.)</span><span class="sxs-lookup"><span data-stu-id="c4d7b-341">(Actually, only the `Site.master` master page uses these methods, although both top-level master pages implement these methods, since both extend `BaseMasterPage`.)</span></span>

<span data-ttu-id="c4d7b-342">이러한 멤버를 구현 해야 하는 동안 `AdminNested.master`, 중첩된 마스터 페이지에서 사용 하는 최상위 마스터 페이지에 동일한 멤버를 호출 하는 단순히는 이러한 구현을 수행 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-342">While we need to implement these members in `AdminNested.master`, all these implementations need to do is simply call the same member in the top-level master page used by the nested master page.</span></span> <span data-ttu-id="c4d7b-343">관리 섹션에서 콘텐츠 페이지를 중첩 된 마스터 페이지를 호출 하는 경우에 예를 들어 `RefreshRecentProductsGrid` 메서드를 중첩된 마스터 페이지 작업을 수행 해야 모든는, 호출 `Site.master` 하거나 `Alternate.master`의 `RefreshRecentProductsGrid` 메서드.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-343">For instance, when a content page in the Administration section calls the nested master page's `RefreshRecentProductsGrid` method, all the nested master page needs to do is, in turn, call `Site.master` or `Alternate.master`'s `RefreshRecentProductsGrid` method.</span></span>

<span data-ttu-id="c4d7b-344">이렇게 하려면 다음을 추가 하 여 시작 `@MasterType` 의 맨 위에 지시문 `AdminNested.master`:</span><span class="sxs-lookup"><span data-stu-id="c4d7b-344">To achieve this, start by adding the following `@MasterType` directive to the top of `AdminNested.master`:</span></span>


[!code-aspx[Main](nested-master-pages-cs/samples/sample16.aspx)]

<span data-ttu-id="c4d7b-345">이전에 설명한 대로 합니다 `@MasterType` 라는 코드 숨김 클래스에 있는 강력한 형식의 속성을 추가 하는 지시문 `Master`합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-345">Recall that the `@MasterType` directive adds a strongly-typed property to the code-behind class named `Master`.</span></span> <span data-ttu-id="c4d7b-346">재정의 `RefreshRecentProductsGrid` 하 고 `GridMessageText` 멤버에 대 한 호출을 위임 하 고는 `Master`의 해당 메서드:</span><span class="sxs-lookup"><span data-stu-id="c4d7b-346">Then override the `RefreshRecentProductsGrid` and `GridMessageText` members and simply delegate the call to the `Master`'s corresponding method:</span></span>


[!code-csharp[Main](nested-master-pages-cs/samples/sample17.cs)]

<span data-ttu-id="c4d7b-347">이 코드를 사용 하 여를 방문 하 여 관리 섹션의 콘텐츠 페이지를 사용할 수 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-347">With this code in place, you should be able to visit and use the content pages in the Administration section.</span></span> <span data-ttu-id="c4d7b-348">그림 12는 `~/Admin/Products.aspx` 브라우저를 통해 볼 때 페이지입니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-348">Figure 12 shows the `~/Admin/Products.aspx` page when viewed through a browser.</span></span> <span data-ttu-id="c4d7b-349">알 수 있듯이 중첩된 마스터 페이지에 정의 되어 있는 관리 지침 상자를, 페이지에 포함 됩니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-349">As you can see, the page includes the Administration Instructions box, which is defined in the nested master page.</span></span>


<span data-ttu-id="c4d7b-350">[![각 페이지의 맨 위에 있는 지침을 포함 하는 관리 섹션에서 콘텐츠 페이지](nested-master-pages-cs/_static/image35.png)](nested-master-pages-cs/_static/image34.png)</span><span class="sxs-lookup"><span data-stu-id="c4d7b-350">[![The Content Pages in the Administration Section Include Instructions at the Top of Each Page](nested-master-pages-cs/_static/image35.png)](nested-master-pages-cs/_static/image34.png)</span></span>

<span data-ttu-id="c4d7b-351">**그림 12**: 각 페이지 위쪽의 관리 섹션 포함 지침에는 콘텐츠 페이지 ([큰 이미지를 보려면 클릭](nested-master-pages-cs/_static/image36.png))</span><span class="sxs-lookup"><span data-stu-id="c4d7b-351">**Figure 12**: The Content Pages in the Administration Section Include Instructions at the Top of Each Page ([Click to view full-size image](nested-master-pages-cs/_static/image36.png))</span></span>


## <a name="step-7-using-the-appropriate-top-level-master-page-at-runtime"></a><span data-ttu-id="c4d7b-352">7 단계: 적절 한 최상위 마스터 페이지를 사용 하 여 런타임 시</span><span class="sxs-lookup"><span data-stu-id="c4d7b-352">Step 7: Using the Appropriate Top-Level Master Page at Runtime</span></span>

<span data-ttu-id="c4d7b-353">관리 섹션에서 모든 콘텐츠 페이지는 모든 기능을 갖춘, 모두 동일한 최상위 마스터 페이지를 사용 하 고 마스터 페이지에서 사용자가 선택한 무시 `ChooseMasterPage.aspx`합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-353">While all the content pages in the Administration section are fully functional, they all use the same top-level master page and ignore the master page selected by the user at `ChooseMasterPage.aspx`.</span></span> <span data-ttu-id="c4d7b-354">이 동작은 때문에 중첩 된 마스터 페이지에 해당 `MasterPageFile` 속성 정적으로 설정 `Site.master` 에서 해당 `<%@ Master %>` 지시문입니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-354">This behavior is due to the fact that the nested master page has its `MasterPageFile` property statically set to `Site.master` in its `<%@ Master %>` directive.</span></span>

<span data-ttu-id="c4d7b-355">로 설정 해야 하는 최종 사용자가 선택한 최상위 마스터 페이지를 사용 하는 `AdminNested.master`의 `MasterPageFile` 속성의 값을는 `MyMasterPage` 세션 변수입니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-355">To use the top-level master page selected by the end user we need to set the `AdminNested.master`'s `MasterPageFile` property to the value in the `MyMasterPage` Session variable.</span></span> <span data-ttu-id="c4d7b-356">콘텐츠 페이지의 설정 했기 때문 `MasterPageFile` 속성에서 `BasePage`, 중첩된 마스터 페이지의 설정할 것을 생각할 수 있습니다 `MasterPageFile` 속성에서 `BaseMasterPage` 또는 `AdminNested.master`의 코드 숨김 클래스입니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-356">Because we set the content pages' `MasterPageFile` properties in `BasePage`, you may think that we would set the nested master page's `MasterPageFile` property in `BaseMasterPage` or in the `AdminNested.master`'s code-behind class.</span></span> <span data-ttu-id="c4d7b-357">하지만이 작동 하지 않습니다,를 설정 해야 하므로 `MasterPageFile` PreInit 단계의 끝 속성입니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-357">This won't work, however, because we need to have set the `MasterPageFile` property by the end of the PreInit stage.</span></span> <span data-ttu-id="c4d7b-358">에서는 프로그래밍 방식으로 마스터 페이지의 페이지 수명 주기를 탭 할 수 있는 가장 이른 시간 (발생 하는 PreInit 단계 후) Init 단계 이며</span><span class="sxs-lookup"><span data-stu-id="c4d7b-358">The earliest time that we can programmatically tap into the page lifecycle from a master page is the Init stage (which occurs after the PreInit stage).</span></span>

<span data-ttu-id="c4d7b-359">중첩된 마스터 페이지의 설정 해야 하므로 `MasterPageFile` 콘텐츠 페이지의 속성입니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-359">Therefore, we need to set the nested master page's `MasterPageFile` property from the content pages.</span></span> <span data-ttu-id="c4d7b-360">유일한 콘텐츠는 사용 하는 페이지의 `AdminNested.master` 에서 파생 되는 마스터 페이지 `AdminBasePage`합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-360">The only content pages that use the `AdminNested.master` master page derive from `AdminBasePage`.</span></span> <span data-ttu-id="c4d7b-361">따라서 있습니다이 논리를 넣을 수 했습니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-361">Therefore, we can put this logic there.</span></span> <span data-ttu-id="c4d7b-362">되며에서는 5 단계에서에서의 `SetMasterPageFile` 메서드를 설정 합니다 `Page` 개체의 `MasterPageFile` 속성을 "~ / Admin/AdminNested.master"입니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-362">In Step 5 we overrode the `SetMasterPageFile` method, setting the `Page` object's `MasterPageFile` property to "~/Admin/AdminNested.master".</span></span> <span data-ttu-id="c4d7b-363">업데이트 `SetMasterPageFile` 마스터 페이지의 설정 `MasterPageFile` 세션에 저장 된 결과에 대 한 속성:</span><span class="sxs-lookup"><span data-stu-id="c4d7b-363">Update `SetMasterPageFile` to also set the master page's `MasterPageFile` property to the result stored in Session:</span></span>


[!code-csharp[Main](nested-master-pages-cs/samples/sample18.cs)]

<span data-ttu-id="c4d7b-364">합니다 `GetMasterPageFileFromSession` 메서드를 추가 했습니다는 `BasePage` 클래스는 이전 자습서에서는 세션 변수 값을 기준으로 해당 마스터 페이지 파일 경로 반환 합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-364">The `GetMasterPageFileFromSession` method, which we added to the `BasePage` class in the preceding tutorial, returns the appropriate master page file path based on the Session variable value.</span></span>

<span data-ttu-id="c4d7b-365">진행에서이 변경으로 사용자의 마스터 페이지 선택 관리 섹션으로 습득 합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-365">With this change in place, the user's master page selection carries over to the Administration section.</span></span> <span data-ttu-id="c4d7b-366">그림 13 그림 12 하지만 변경 된 후 사용자에 해당 마스터 페이지 선택 영역을 같은 페이지를 보여 줍니다. `Alternate.master`합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-366">Figure 13 shows the same page as Figure 12, but after the user has changed their master page selection to `Alternate.master`.</span></span>


<span data-ttu-id="c4d7b-367">[![사용자가 선택한 최상위 마스터 페이지를 사용 하 여 중첩 된 관리 페이지](nested-master-pages-cs/_static/image38.png)](nested-master-pages-cs/_static/image37.png)</span><span class="sxs-lookup"><span data-stu-id="c4d7b-367">[![The Nested Administration Page Uses the Top-Level Master Page Selected by the User](nested-master-pages-cs/_static/image38.png)](nested-master-pages-cs/_static/image37.png)</span></span>

<span data-ttu-id="c4d7b-368">**그림 13**: 중첩 관리 페이지를 사용 하 여 사용자가 최상위 마스터 페이지 선택 ([큰 이미지를 보려면 클릭](nested-master-pages-cs/_static/image39.png))</span><span class="sxs-lookup"><span data-stu-id="c4d7b-368">**Figure 13**: The Nested Administration Page Uses the Top-Level Master Page Selected by the User ([Click to view full-size image](nested-master-pages-cs/_static/image39.png))</span></span>


## <a name="summary"></a><span data-ttu-id="c4d7b-369">요약</span><span class="sxs-lookup"><span data-stu-id="c4d7b-369">Summary</span></span>

<span data-ttu-id="c4d7b-370">많은 like 콘텐츠 페이지 마스터 페이지에 바인딩할 수 있기 중첩 만들려면 자식 마스터 페이지에서 마스터 페이지 부모 마스터 페이지에 바인딩합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-370">Much like how content pages can bind to a master page, it is possible to create nested master pages by having a child master page bind to a parent master page.</span></span> <span data-ttu-id="c4d7b-371">자식 마스터 페이지는 해당 부모의 ContentPlaceHolders;의 각 콘텐츠 컨트롤을 정의할 수 있습니다. 이러한 콘텐츠 컨트롤에는 자체 ContentPlaceHolder 컨트롤 (뿐만 아니라 다른 태그)를 추가할 수 것.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-371">The child master page may define Content controls for each of its parent's ContentPlaceHolders; it can then add its own ContentPlaceHolder controls (as well as other markup) to these Content controls.</span></span> <span data-ttu-id="c4d7b-372">중첩된 마스터 페이지는 모든 페이지는 가장 중요 한 디자인을 공유 하면서 사이트의 특정 섹션 고유한 사용자 지정이 필요한 대규모 웹 응용 프로그램에 매우 유용 합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-372">Nested master pages are quite useful in large web applications where all pages share an overarching look and feel, yet certain sections of the site require unique customizations.</span></span>

<span data-ttu-id="c4d7b-373">즐거운 프로그래밍!</span><span class="sxs-lookup"><span data-stu-id="c4d7b-373">Happy Programming!</span></span>

### <a name="further-reading"></a><span data-ttu-id="c4d7b-374">추가 정보</span><span class="sxs-lookup"><span data-stu-id="c4d7b-374">Further Reading</span></span>

<span data-ttu-id="c4d7b-375">이 자습서에서 다루는 항목에 대 한 자세한 내용은 다음 리소스를 참조 하세요.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-375">For more information on the topics discussed in this tutorial, refer to the following resources:</span></span>

- [<span data-ttu-id="c4d7b-376">중첩 된 ASP.NET 마스터 페이지</span><span class="sxs-lookup"><span data-stu-id="c4d7b-376">Nested ASP.NET Master Pages</span></span>](https://msdn.microsoft.com/library/x2b3ktt7.aspx)
- [<span data-ttu-id="c4d7b-377">중첩된 마스터 페이지 및 VS 2005 디자인 타임에 대 한 팁</span><span class="sxs-lookup"><span data-stu-id="c4d7b-377">Tips for Nested Master Pages and VS 2005 Design-Time</span></span>](https://weblogs.asp.net/scottgu/archive/2005/11/11/430382.aspx)
- [<span data-ttu-id="c4d7b-378">VS 2008 중첩 마스터 페이지 지원</span><span class="sxs-lookup"><span data-stu-id="c4d7b-378">VS 2008 Nested Master Page Support</span></span>](https://weblogs.asp.net/scottgu/archive/2007/07/09/vs-2008-nested-master-page-support.aspx)

### <a name="about-the-author"></a><span data-ttu-id="c4d7b-379">저자 소개</span><span class="sxs-lookup"><span data-stu-id="c4d7b-379">About the Author</span></span>

<span data-ttu-id="c4d7b-380">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), 작성자의 여러 ASP/ASP.NET 서적과 4GuysFromRolla.com의 설립자 이며, 왔습니다 Microsoft 웹 기술을 1998 합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-380">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of multiple ASP/ASP.NET books and founder of 4GuysFromRolla.com, has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="c4d7b-381">Scott는 독립 컨설턴트, 강사, 그리고 기록기로 작동합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-381">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="c4d7b-382">최근 저서는 [ *Sams 설명 직접 ASP.NET 3.5 24 시간 동안의*](https://www.amazon.com/exec/obidos/ASIN/0672329972/4guysfromrollaco)합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-382">His latest book is [*Sams Teach Yourself ASP.NET 3.5 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672329972/4guysfromrollaco).</span></span> <span data-ttu-id="c4d7b-383">Scott에 도달할 수 있습니다 [ mitchell@4GuysFromRolla.com ](mailto:mitchell@4GuysFromRolla.com) 통하거나 저자의 블로그 [ http://ScottOnWriting.NET ](http://scottonwriting.net/)합니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-383">Scott can be reached at [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com) or via his blog at [http://ScottOnWriting.NET](http://scottonwriting.net/).</span></span>

### <a name="special-thanks-to"></a><span data-ttu-id="c4d7b-384">특별히 감사</span><span class="sxs-lookup"><span data-stu-id="c4d7b-384">Special Thanks To</span></span>

<span data-ttu-id="c4d7b-385">이 자습서 시리즈는 많은 유용한 검토자가 검토 되었습니다.</span><span class="sxs-lookup"><span data-stu-id="c4d7b-385">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="c4d7b-386">내 향후 MSDN 문서를 검토에 관심이 있으십니까?</span><span class="sxs-lookup"><span data-stu-id="c4d7b-386">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="c4d7b-387">그렇다면 삭제 나에서 선 [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="c4d7b-387">If so, drop me a line at [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="c4d7b-388">[이전](specifying-the-master-page-programmatically-cs.md)
> [다음](creating-a-site-wide-layout-using-master-pages-vb.md)</span><span class="sxs-lookup"><span data-stu-id="c4d7b-388">[Previous](specifying-the-master-page-programmatically-cs.md)
[Next](creating-a-site-wide-layout-using-master-pages-vb.md)</span></span>
