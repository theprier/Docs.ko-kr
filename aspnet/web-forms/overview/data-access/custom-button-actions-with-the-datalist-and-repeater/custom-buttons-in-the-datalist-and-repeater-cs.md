---
uid: web-forms/overview/data-access/custom-button-actions-with-the-datalist-and-repeater/custom-buttons-in-the-datalist-and-repeater-cs
title: 사용자 지정 단추 DataList 및 반복기 (C#) | Microsoft Docs
author: rick-anderson
description: 이 자습서에서는 해당 associ에 표시할 단추를 제공 하는 각 범주를 사용 하 여 시스템에서 범주를 나열 하는 반복기를 사용 하는 인터페이스를 빌드 해 보겠습니다...
ms.author: aspnetcontent
manager: wpickett
ms.date: 11/13/2006
ms.topic: article
ms.assetid: 1f42e332-78dc-438b-9e35-0c97aa0ad929
ms.technology: dotnet-webforms
msc.legacyurl: /web-forms/overview/data-access/custom-button-actions-with-the-datalist-and-repeater/custom-buttons-in-the-datalist-and-repeater-cs
msc.type: authoredcontent
ms.openlocfilehash: 802f52e8e4e1ca1addec3321503ac92474ffd6b8
ms.sourcegitcommit: 953ff9ea4369f154d6fd0239599279ddd3280009
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 07/03/2018
ms.locfileid: "37369488"
---
<a name="custom-buttons-in-the-datalist-and-repeater-c"></a><span data-ttu-id="a6c70-103">DataList 및 반복기 (C#)의 사용자 지정 단추</span><span class="sxs-lookup"><span data-stu-id="a6c70-103">Custom Buttons in the DataList and Repeater (C#)</span></span>
====================
<span data-ttu-id="a6c70-104">[Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="a6c70-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="a6c70-105">[샘플 앱을 다운로드](http://download.microsoft.com/download/4/a/7/4a7a3b18-d80e-4014-8e53-a6a2427f0d93/ASPNET_Data_Tutorial_46_CS.exe) 또는 [PDF 다운로드](custom-buttons-in-the-datalist-and-repeater-cs/_static/datatutorial46cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="a6c70-105">[Download Sample App](http://download.microsoft.com/download/4/a/7/4a7a3b18-d80e-4014-8e53-a6a2427f0d93/ASPNET_Data_Tutorial_46_CS.exe) or [Download PDF](custom-buttons-in-the-datalist-and-repeater-cs/_static/datatutorial46cs1.pdf)</span></span>

> <span data-ttu-id="a6c70-106">이 자습서에서는 BulletedList 컨트롤을 사용 하 여 연결 된 제품에 표시할 단추를 제공 하는 각 범주를 사용 하 여 시스템에서 범주를 나열 하는 반복기를 사용 하는 인터페이스를 빌드 해 보겠습니다.</span><span class="sxs-lookup"><span data-stu-id="a6c70-106">In this tutorial we'll build an interface that uses a Repeater to list the categories in the system, with each category providing a button to show its associated products using a BulletedList control.</span></span>


## <a name="introduction"></a><span data-ttu-id="a6c70-107">소개</span><span class="sxs-lookup"><span data-stu-id="a6c70-107">Introduction</span></span>

<span data-ttu-id="a6c70-108">지난 17 DataList 및 반복기 자습서 전체에서에서는 ve 모두 읽기 전용 예제 및 편집 및 삭제 예제를 생성 합니다.</span><span class="sxs-lookup"><span data-stu-id="a6c70-108">Throughout the past seventeen DataList and Repeater tutorials, we ve created both read-only examples and editing and deleting examples.</span></span> <span data-ttu-id="a6c70-109">편집 및 삭제 DataList 내에서 기능을 위해 단추에 추가한 s DataList `ItemTemplate` 를 클릭 하면 포스트백을 발생 하 고 s 단추에 해당 하는 DataList 이벤트를 발생 시킨 `CommandName` 속성입니다.</span><span class="sxs-lookup"><span data-stu-id="a6c70-109">To facilitate editing and deleting capabilities within a DataList, we added buttons to the DataList s `ItemTemplate` that, when clicked, caused a postback and raised a DataList event corresponding to the button s `CommandName` property.</span></span> <span data-ttu-id="a6c70-110">예를 들어, 단추를 추가 합니다 `ItemTemplate` 사용 하 여를 `CommandName` 속성은 편집 하면 DataList s `EditCommand` 포스트백에서 발생 개를 `CommandName` 발생 삭제는 `DeleteCommand`.</span><span class="sxs-lookup"><span data-stu-id="a6c70-110">For example, adding a button to the `ItemTemplate` with a `CommandName` property value of Edit causes the DataList s `EditCommand` to fire on postback; one with the `CommandName` Delete raises the `DeleteCommand`.</span></span>

<span data-ttu-id="a6c70-111">또한를 편집 하 고 삭제 단추 DataList 및 반복기 컨트롤을 포함할 수도 Linkbutton을 단추나 ImageButtons,를 클릭 하면 일부 사용자 지정 서버 쪽 논리를 수행 합니다.</span><span class="sxs-lookup"><span data-stu-id="a6c70-111">In addition to Edit and Delete buttons, the DataList and Repeater controls can also include Buttons, LinkButtons, or ImageButtons that, when clicked, perform some custom server-side logic.</span></span> <span data-ttu-id="a6c70-112">이 자습서에서는 시스템의 범주를 나열 하는 반복기를 사용 하는 인터페이스를 빌드 해 보겠습니다.</span><span class="sxs-lookup"><span data-stu-id="a6c70-112">In this tutorial we'll build an interface that uses a Repeater to list the categories in the system.</span></span> <span data-ttu-id="a6c70-113">각 범주에 대 한 반복기 BulletedList 컨트롤을 사용 하 여 연결 된 제품 범주를 표시 하도록 단추가 포함 됩니다 (그림 1 참조).</span><span class="sxs-lookup"><span data-stu-id="a6c70-113">For each category, the Repeater will include a button to show the category s associated products using a BulletedList control (see Figure 1).</span></span>


<span data-ttu-id="a6c70-114">[![글머리 기호 목록에서 범주의 제품 표시 제품 링크 표시를 클릭합니다.](custom-buttons-in-the-datalist-and-repeater-cs/_static/image2.png)](custom-buttons-in-the-datalist-and-repeater-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="a6c70-114">[![Clicking the Show Products Link Displays the Category s Products in a Bulleted List](custom-buttons-in-the-datalist-and-repeater-cs/_static/image2.png)](custom-buttons-in-the-datalist-and-repeater-cs/_static/image1.png)</span></span>

<span data-ttu-id="a6c70-115">**그림 1**: 글머리 기호 목록의 s 제품 범주 제품 표시 링크 표시를 클릭 ([큰 이미지를 보려면 클릭](custom-buttons-in-the-datalist-and-repeater-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="a6c70-115">**Figure 1**: Clicking the Show Products Link Displays the Category s Products in a Bulleted List ([Click to view full-size image](custom-buttons-in-the-datalist-and-repeater-cs/_static/image3.png))</span></span>


## <a name="step-1-adding-the-custom-button-tutorial-web-pages"></a><span data-ttu-id="a6c70-116">1 단계: 사용자 지정 단추 자습서 웹 페이지 추가</span><span class="sxs-lookup"><span data-stu-id="a6c70-116">Step 1: Adding the Custom Button Tutorial Web Pages</span></span>

<span data-ttu-id="a6c70-117">사용자 지정 단추를 추가 하는 방법을 살펴보기 전에 s를 먼저 시간을 내어이 자습서용 해야 하는 웹 사이트 프로젝트에서 ASP.NET 페이지를 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a6c70-117">Before we look at how to add a custom button, let s first take a moment to create the ASP.NET pages in our website project that we'll need for this tutorial.</span></span> <span data-ttu-id="a6c70-118">라는 새 폴더를 추가 하 여 시작 `CustomButtonsDataListRepeater`합니다.</span><span class="sxs-lookup"><span data-stu-id="a6c70-118">Start by adding a new folder named `CustomButtonsDataListRepeater`.</span></span> <span data-ttu-id="a6c70-119">다음에 있는 각 페이지에 연결할 수 있도록 해당 폴더에 다음 두 ASP.NET 페이지를 추가 합니다 `Site.master` 마스터 페이지:</span><span class="sxs-lookup"><span data-stu-id="a6c70-119">Next, add the following two ASP.NET pages to that folder, making sure to associate each page with the `Site.master` master page:</span></span>

- `Default.aspx`
- `CustomButtons.aspx`


![사용자 지정 단추 관련 자습서에 대 한 ASP.NET 페이지 추가](custom-buttons-in-the-datalist-and-repeater-cs/_static/image4.png)

<span data-ttu-id="a6c70-121">**그림 2**: 사용자 지정 단추 관련 자습서에 대 한 ASP.NET 페이지 추가</span><span class="sxs-lookup"><span data-stu-id="a6c70-121">**Figure 2**: Add the ASP.NET Pages for the Custom Buttons-Related Tutorials</span></span>


<span data-ttu-id="a6c70-122">다른 폴더와 같이 `Default.aspx` 에 `CustomButtonsDataListRepeater` 폴더 섹션의 자습서를 나열 됩니다.</span><span class="sxs-lookup"><span data-stu-id="a6c70-122">Like in the other folders, `Default.aspx` in the `CustomButtonsDataListRepeater` folder will list the tutorials in its section.</span></span> <span data-ttu-id="a6c70-123">이전에 설명한 대로 `SectionLevelTutorialListing.ascx` 사용자 컨트롤은이 기능을 제공 합니다.</span><span class="sxs-lookup"><span data-stu-id="a6c70-123">Recall that the `SectionLevelTutorialListing.ascx` User Control provides this functionality.</span></span> <span data-ttu-id="a6c70-124">이 사용자 정의 컨트롤을 추가 `Default.aspx`의 디자인 뷰에서 페이지의 솔루션 탐색기에서 끌어 합니다.</span><span class="sxs-lookup"><span data-stu-id="a6c70-124">Add this User Control to `Default.aspx` by dragging it from the Solution Explorer onto the page s Design view.</span></span>


<span data-ttu-id="a6c70-125">[![Default.aspx SectionLevelTutorialListing.ascx 사용자 컨트롤 추가](custom-buttons-in-the-datalist-and-repeater-cs/_static/image6.png)](custom-buttons-in-the-datalist-and-repeater-cs/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="a6c70-125">[![Add the SectionLevelTutorialListing.ascx User Control to Default.aspx](custom-buttons-in-the-datalist-and-repeater-cs/_static/image6.png)](custom-buttons-in-the-datalist-and-repeater-cs/_static/image5.png)</span></span>

<span data-ttu-id="a6c70-126">**그림 3**: 추가 된 `SectionLevelTutorialListing.ascx` 사용자 정의 컨트롤 `Default.aspx` ([클릭 하 여 큰 이미지 보기](custom-buttons-in-the-datalist-and-repeater-cs/_static/image7.png))</span><span class="sxs-lookup"><span data-stu-id="a6c70-126">**Figure 3**: Add the `SectionLevelTutorialListing.ascx` User Control to `Default.aspx` ([Click to view full-size image](custom-buttons-in-the-datalist-and-repeater-cs/_static/image7.png))</span></span>


<span data-ttu-id="a6c70-127">마지막으로, 페이지에 항목으로 추가 된 `Web.sitemap` 파일입니다.</span><span class="sxs-lookup"><span data-stu-id="a6c70-127">Lastly, add the pages as entries to the `Web.sitemap` file.</span></span> <span data-ttu-id="a6c70-128">특히, DataList 및 반복기를 사용 하 여 페이징 및 정렬 한 후 다음 태그를 추가 `<siteMapNode>`:</span><span class="sxs-lookup"><span data-stu-id="a6c70-128">Specifically, add the following markup after the Paging and Sorting with the DataList and Repeater `<siteMapNode>`:</span></span>


[!code-xml[Main](custom-buttons-in-the-datalist-and-repeater-cs/samples/sample1.xml)]

<span data-ttu-id="a6c70-129">업데이트 한 후 `Web.sitemap`, 잠시 브라우저를 통해 자습서 웹 사이트를 확인 합니다.</span><span class="sxs-lookup"><span data-stu-id="a6c70-129">After updating `Web.sitemap`, take a moment to view the tutorials website through a browser.</span></span> <span data-ttu-id="a6c70-130">왼쪽 메뉴에는 이제 편집, 삽입 및 삭제 자습서에 대 한 항목이 포함 됩니다.</span><span class="sxs-lookup"><span data-stu-id="a6c70-130">The menu on the left now includes items for the editing, inserting, and deleting tutorials.</span></span>


![이제 사이트 맵 사용자 지정 단추 자습서에 대 한 항목을 포함](custom-buttons-in-the-datalist-and-repeater-cs/_static/image8.png)

<span data-ttu-id="a6c70-132">**그림 4**: 이제 사이트 맵 사용자 지정 단추 자습서에 대 한 항목을 포함</span><span class="sxs-lookup"><span data-stu-id="a6c70-132">**Figure 4**: The Site Map Now Includes the Entry for the Custom Buttons Tutorial</span></span>


## <a name="step-2-adding-the-list-of-categories"></a><span data-ttu-id="a6c70-133">2 단계: 추가 범주 목록</span><span class="sxs-lookup"><span data-stu-id="a6c70-133">Step 2: Adding the List of Categories</span></span>

<span data-ttu-id="a6c70-134">이 자습서에 대 한 제품 LinkButton 표시와 함께 모든 범주를 나열 하는 반복기를 생성 해야 하는, 클릭 하면 관련된 범주가의 제품 글머리 기호 목록에 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="a6c70-134">For this tutorial we need to create a Repeater that lists all categories along with a Show Products LinkButton that, when clicked, displays the associated category s products in a bulleted list.</span></span> <span data-ttu-id="a6c70-135">S를 시스템의 범주를 나열 하는 간단한 Repeater를 처음 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a6c70-135">Let s first create a simple Repeater that lists the categories in the system.</span></span> <span data-ttu-id="a6c70-136">열어서 시작 합니다 `CustomButtons.aspx` 페이지에 `CustomButtonsDataListRepeater` 폴더입니다.</span><span class="sxs-lookup"><span data-stu-id="a6c70-136">Start by opening the `CustomButtons.aspx` page in the `CustomButtonsDataListRepeater` folder.</span></span> <span data-ttu-id="a6c70-137">Repeater 집합과 디자이너 도구 상자에서 끌어 해당 `ID` 속성을 `Categories`입니다.</span><span class="sxs-lookup"><span data-stu-id="a6c70-137">Drag a Repeater from the Toolbox onto the Designer and set its `ID` property to `Categories`.</span></span> <span data-ttu-id="a6c70-138">다음으로 반복기가 스마트 태그에서 새 데이터 소스 컨트롤을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="a6c70-138">Next, create a new data source control from the Repeater s smart tag.</span></span> <span data-ttu-id="a6c70-139">특히 이라는 새 ObjectDataSource 컨트롤을 만들어 `CategoriesDataSource` 에서 해당 데이터를 선택 하 여 `CategoriesBLL` s 클래스 `GetCategories()` 메서드.</span><span class="sxs-lookup"><span data-stu-id="a6c70-139">Specifically, create a new ObjectDataSource control named `CategoriesDataSource` that selects its data from the `CategoriesBLL` class s `GetCategories()` method.</span></span>


<span data-ttu-id="a6c70-140">[![CategoriesBLL 클래스의 GetCategories() 메서드를 사용 하는 ObjectDataSource 구성](custom-buttons-in-the-datalist-and-repeater-cs/_static/image10.png)](custom-buttons-in-the-datalist-and-repeater-cs/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="a6c70-140">[![Configure the ObjectDataSource to Use the CategoriesBLL Class s GetCategories() Method](custom-buttons-in-the-datalist-and-repeater-cs/_static/image10.png)](custom-buttons-in-the-datalist-and-repeater-cs/_static/image9.png)</span></span>

<span data-ttu-id="a6c70-141">**그림 5**: ObjectDataSource를 사용 하 여 구성 합니다 `CategoriesBLL` s 클래스 `GetCategories()` 메서드 ([클릭 하 여 큰 이미지 보기](custom-buttons-in-the-datalist-and-repeater-cs/_static/image11.png))</span><span class="sxs-lookup"><span data-stu-id="a6c70-141">**Figure 5**: Configure the ObjectDataSource to Use the `CategoriesBLL` Class s `GetCategories()` Method ([Click to view full-size image](custom-buttons-in-the-datalist-and-repeater-cs/_static/image11.png))</span></span>


<span data-ttu-id="a6c70-142">Visual Studio는 기본 생성 DataList 컨트롤을 달리 `ItemTemplate` 데이터 원본에 따라 s 반복기 템플릿을 수동으로 정의 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="a6c70-142">Unlike the DataList control, for which Visual Studio creates a default `ItemTemplate` based on the data source, the Repeater s templates must be manually defined.</span></span> <span data-ttu-id="a6c70-143">반복기가의 템플릿 해야 생성 및 선언적 편집 또한 (즉, 있는 s 편집 템플릿이 옵션에서 반복기가 스마트 태그에).</span><span class="sxs-lookup"><span data-stu-id="a6c70-143">Furthermore, the Repeater s templates must be created and edited declaratively (that is, there s no Edit Templates option in the Repeater s smart tag).</span></span>

<span data-ttu-id="a6c70-144">원본 탭 왼쪽된 아래 모퉁이에서 클릭 하 고 추가 `ItemTemplate` 에서 s 범주 이름을 표시 하는 `<h3>` 요소 및 해당 설명을 단락에서 태그; 포함을 `SeparatorTemplate` 단락 구분선을 표시 하는 (`<hr />`) 간의 범주입니다.</span><span class="sxs-lookup"><span data-stu-id="a6c70-144">Click on the Source tab in the bottom left corner and add an `ItemTemplate` that displays the category s name in an `<h3>` element and its description in a paragraph tag; include a `SeparatorTemplate` that displays a horizontal rule (`<hr />`) between each category.</span></span> <span data-ttu-id="a6c70-145">추가적으로 LinkButton 사용 하 여 해당 `Text` 속성이 제품 표시로 설정 합니다.</span><span class="sxs-lookup"><span data-stu-id="a6c70-145">Also add a LinkButton with its `Text` property set to Show Products.</span></span> <span data-ttu-id="a6c70-146">다음이 단계를 완료 한 후 페이지 s 선언적 태그는 다음과 같이 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="a6c70-146">After completing these steps, your page s declarative markup should look like the following:</span></span>


[!code-aspx[Main](custom-buttons-in-the-datalist-and-repeater-cs/samples/sample2.aspx)]

<span data-ttu-id="a6c70-147">그림 6에서는 브라우저를 통해 볼 때 페이지를 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="a6c70-147">Figure 6 shows the page when viewed through a browser.</span></span> <span data-ttu-id="a6c70-148">각 범주 이름 및 설명을 나열 됩니다.</span><span class="sxs-lookup"><span data-stu-id="a6c70-148">Each category name and description is listed.</span></span> <span data-ttu-id="a6c70-149">제품 표시 단추를 클릭 하면 포스트백을 발생 시키는 하지만 모든 작업을 아직 수행 하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="a6c70-149">The Show Products button, when clicked, causes a postback but does not yet perform any action.</span></span>


<span data-ttu-id="a6c70-150">[![각 범주 이름이 설명과 함께 표시 됩니다, 제품 LinkButton 표시](custom-buttons-in-the-datalist-and-repeater-cs/_static/image13.png)](custom-buttons-in-the-datalist-and-repeater-cs/_static/image12.png)</span><span class="sxs-lookup"><span data-stu-id="a6c70-150">[![Each Category s Name and Description is Displayed, Along with a Show Products LinkButton](custom-buttons-in-the-datalist-and-repeater-cs/_static/image13.png)](custom-buttons-in-the-datalist-and-repeater-cs/_static/image12.png)</span></span>

<span data-ttu-id="a6c70-151">**그림 6**: 제품 LinkButton 표시와 함께 각 범주 이름 및 설명이 표시 됩니다 ([큰 이미지를 보려면 클릭](custom-buttons-in-the-datalist-and-repeater-cs/_static/image14.png))</span><span class="sxs-lookup"><span data-stu-id="a6c70-151">**Figure 6**: Each Category s Name and Description is Displayed, Along with a Show Products LinkButton ([Click to view full-size image](custom-buttons-in-the-datalist-and-repeater-cs/_static/image14.png))</span></span>


## <a name="step-3-executing-server-side-logic-when-the-show-products-linkbutton-is-clicked"></a><span data-ttu-id="a6c70-152">3 단계: 서버 쪽 논리 때 the 표시 제품 LinkButton 실행 클릭</span><span class="sxs-lookup"><span data-stu-id="a6c70-152">Step 3: Executing Server-Side Logic When the Show Products LinkButton is Clicked</span></span>

<span data-ttu-id="a6c70-153">포스트백이 발생할 단추나 LinkButton, ImageButton DataList 또는 반복기에서 템플릿 내에서 클릭 하면 언제 든 지 및 DataList 또는 Repeater의 `ItemCommand` 이벤트가 발생 합니다.</span><span class="sxs-lookup"><span data-stu-id="a6c70-153">Anytime a Button, LinkButton, or ImageButton within a template in a DataList or Repeater is clicked, a postback occurs and the DataList or Repeater s `ItemCommand` event fires.</span></span> <span data-ttu-id="a6c70-154">외에 `ItemCommand` 이벤트, DataList 컨트롤 수 있습니다 하는 경우에 다른, 보다 구체적인 이벤트를 발생 s 단추 `CommandName` (삭제, 편집, 취소, 업데이트 또는 선택) 하는 예약 된 문자열 중 하나를 설정 하지만 `ItemCommand` 이벤트는 *항상* 발생 합니다.</span><span class="sxs-lookup"><span data-stu-id="a6c70-154">In addition to the `ItemCommand` event, the DataList control may also raise another, more specific event if the button s `CommandName` property is set to one of the reserved strings ( Delete, Edit, Cancel, Update, or Select ), but the `ItemCommand` event is *always* fired.</span></span>

<span data-ttu-id="a6c70-155">DataList 또는 Repeater 내에서 단추를 클릭 하면 종종 해야 (될 수 있습니다 여러 편집을 모두 같은 컨트롤에 단추 및 삭제 단추 경우)에서 클릭 된 단추 및 아마도 일부 추가 정보 (예: 전달 기본 키 값의 해당 단추를 클릭 한 항목).</span><span class="sxs-lookup"><span data-stu-id="a6c70-155">When a button is clicked within a DataList or Repeater, oftentimes we need to pass along which button was clicked (in the case that there may be multiple buttons within the control, such as both an Edit and Delete button) and perhaps some additional information (such as the primary key value of the item whose button was clicked).</span></span> <span data-ttu-id="a6c70-156">단추를 LinkButton 및 ImageButton 값에 전달 되는 두 가지 속성을 제공 합니다 `ItemCommand` 이벤트 처리기:</span><span class="sxs-lookup"><span data-stu-id="a6c70-156">The Button, LinkButton, and ImageButton provide two properties whose values are passed to the `ItemCommand` event handler:</span></span>

- <span data-ttu-id="a6c70-157">`CommandName` 서식 파일의 각 단추를 식별 하는 데 일반적으로 문자열로</span><span class="sxs-lookup"><span data-stu-id="a6c70-157">`CommandName` a string typically used to identify each button in the template</span></span>
- <span data-ttu-id="a6c70-158">`CommandArgument` 기본 키 값과 같은 일부 데이터 필드의 값을 유지 하는 데 주로 사용</span><span class="sxs-lookup"><span data-stu-id="a6c70-158">`CommandArgument` commonly used to hold the value of some data field, such as the primary key value</span></span>

<span data-ttu-id="a6c70-159">이 예에서는 LinkButton s를 설정 `CommandName` ShowProducts 바인딩 현재 레코드 s 기본 키 값을 속성 `CategoryID` 에 `CommandArgument` 데이터 바인딩 구문을 사용 하 여 속성 `CategoryArgument='<%# Eval("CategoryID") %>'`합니다.</span><span class="sxs-lookup"><span data-stu-id="a6c70-159">For this example, set the LinkButton s `CommandName` property to ShowProducts and bind the current record s primary key value `CategoryID` to the `CommandArgument` property using the databinding syntax `CategoryArgument='<%# Eval("CategoryID") %>'`.</span></span> <span data-ttu-id="a6c70-160">이러한 두 속성을 지정한 후 LinkButton s 선언적 구문을 다음과 같이 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="a6c70-160">After specifying these two properties, the LinkButton s declarative syntax should look like the following:</span></span>


[!code-aspx[Main](custom-buttons-in-the-datalist-and-repeater-cs/samples/sample3.aspx)]

<span data-ttu-id="a6c70-161">단추를 클릭할 때, 포스트백이 발생할 및 DataList 또는 Repeater의 `ItemCommand` 이벤트가 발생 합니다.</span><span class="sxs-lookup"><span data-stu-id="a6c70-161">When the button is clicked, a postback occurs and the DataList or Repeater s `ItemCommand` event fires.</span></span> <span data-ttu-id="a6c70-162">이벤트 처리기 단추 s 되는지를 `CommandName` 고 `CommandArgument` 값입니다.</span><span class="sxs-lookup"><span data-stu-id="a6c70-162">The event handler is passed the button s `CommandName` and `CommandArgument` values.</span></span>

<span data-ttu-id="a6c70-163">S 반복기에 대 한 이벤트 처리기를 만듭니다 `ItemCommand` 이벤트 처리기에 전달 된 이벤트와 두 번째 매개 변수를 참고 (라는 `e`).</span><span class="sxs-lookup"><span data-stu-id="a6c70-163">Create an event handler for the Repeater s `ItemCommand` event and note the second parameter passed into the event handler (named `e`).</span></span> <span data-ttu-id="a6c70-164">이 두 번째 매개 변수는 형식 [ `RepeaterCommandEventArgs` ](https://msdn.microsoft.com/library/system.web.ui.webcontrols.repeatercommandeventargs.aspx) 있고 다음 네 가지 속성:</span><span class="sxs-lookup"><span data-stu-id="a6c70-164">This second parameter is of type [`RepeaterCommandEventArgs`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.repeatercommandeventargs.aspx) and has the following four properties:</span></span>

- <span data-ttu-id="a6c70-165">`CommandArgument` s 클릭 한 단추의 값 `CommandArgument` 속성</span><span class="sxs-lookup"><span data-stu-id="a6c70-165">`CommandArgument` the value of the clicked button s `CommandArgument` property</span></span>
- <span data-ttu-id="a6c70-166">`CommandName` s 단추의 값 `CommandName` 속성</span><span class="sxs-lookup"><span data-stu-id="a6c70-166">`CommandName` the value of the button s `CommandName` property</span></span>
- <span data-ttu-id="a6c70-167">`CommandSource` 클릭 된 단추 컨트롤에 대 한 참조</span><span class="sxs-lookup"><span data-stu-id="a6c70-167">`CommandSource` a reference to the button control that was clicked</span></span>
- <span data-ttu-id="a6c70-168">`Item` 에 대 한 참조를 [ `RepeaterItem` ](https://msdn.microsoft.com/library/system.web.ui.webcontrols.repeateritem.aspx) 클릭 된 단추를 포함 하는;으로 반복기에 바인딩된 각 레코드는 매니페스트를 `RepeaterItem`</span><span class="sxs-lookup"><span data-stu-id="a6c70-168">`Item` a reference to the [`RepeaterItem`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.repeateritem.aspx) that contains the button that was clicked; each record bound to the Repeater is manifested as a `RepeaterItem`</span></span>

<span data-ttu-id="a6c70-169">선택한 범주의 s 이후 `CategoryID` 를 통해 전달 되는 `CommandArgument` 속성 집합에서 선택한 범주와 관련 된 제품을 가져올 수 있습니다는 `ItemCommand` 이벤트 처리기.</span><span class="sxs-lookup"><span data-stu-id="a6c70-169">Since the selected category s `CategoryID` is passed in via the `CommandArgument` property, we can get the set of products associated with the selected category in the `ItemCommand` event handler.</span></span> <span data-ttu-id="a6c70-170">이러한 제품 BulletedList 컨트롤에 바인딩된 다음 수는 `ItemTemplate` (어떤 것 추가할 아직 ve).</span><span class="sxs-lookup"><span data-stu-id="a6c70-170">These products can then be bound to a BulletedList control in the `ItemTemplate` (which we ve yet to add).</span></span> <span data-ttu-id="a6c70-171">참조 모두 그대로 유지 한 다음, BulletedList, 추가 하는 것은 `ItemCommand` 이벤트 처리기를 4 단계에서에서 해결할는 선택한 범주에 대 한 제품 집합에 바인딩합니다.</span><span class="sxs-lookup"><span data-stu-id="a6c70-171">All that remains, then, is to add the BulletedList, reference it in the `ItemCommand` event handler, and bind to it the set of products for the selected category, which we'll tackle in Step 4.</span></span>

> [!NOTE]
> <span data-ttu-id="a6c70-172">S DataList `ItemCommand` 이벤트 처리기가 형식의 개체를 전달 [ `DataListCommandEventArgs` ](https://msdn.microsoft.com/library/system.web.ui.webcontrols.datalistcommandeventargs.aspx), 같은 네 가지 속성을 제공 하는 `RepeaterCommandEventArgs` 클래스입니다.</span><span class="sxs-lookup"><span data-stu-id="a6c70-172">The DataList s `ItemCommand` event handler is passed an object of type [`DataListCommandEventArgs`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.datalistcommandeventargs.aspx), which offers the same four properties as the `RepeaterCommandEventArgs` class.</span></span>


## <a name="step-4-displaying-the-selected-category-s-products-in-a-bulleted-list"></a><span data-ttu-id="a6c70-173">4 단계: 글머리 기호 목록에서 선택한 범주의 제품 표시</span><span class="sxs-lookup"><span data-stu-id="a6c70-173">Step 4: Displaying the Selected Category s Products in a Bulleted List</span></span>

<span data-ttu-id="a6c70-174">S Repeater 내 선택한 범주의 제품을 표시할 수 있습니다 `ItemTemplate` 모든 다양 한 컨트롤을 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="a6c70-174">The selected category s products can be displayed within the Repeater s `ItemTemplate` using any number of controls.</span></span> <span data-ttu-id="a6c70-175">또 다른 중첩 된 Repeater, DataList, DropDownList, GridView 및 등에 추가할 수 있었습니다.</span><span class="sxs-lookup"><span data-stu-id="a6c70-175">We could add another nested Repeater, a DataList, a DropDownList, a GridView, and so on.</span></span> <span data-ttu-id="a6c70-176">글머리 기호 목록으로 제품을 표시할 것 이므로 BulletedList 컨트롤 사용 하겠습니다 그러나.</span><span class="sxs-lookup"><span data-stu-id="a6c70-176">Since we want to display the products as a bulleted list, though, we'll use the BulletedList control.</span></span> <span data-ttu-id="a6c70-177">반환 합니다 `CustomButtons.aspx` s 선언적 태그를 페이지, BulletedList 컨트롤을 추가 합니다 `ItemTemplate` 제품 LinkButton 표시 한 후 합니다.</span><span class="sxs-lookup"><span data-stu-id="a6c70-177">Returning to the `CustomButtons.aspx` page s declarative markup, add a BulletedList control to the `ItemTemplate` after the Show Products LinkButton.</span></span> <span data-ttu-id="a6c70-178">집합 BulletedLists s `ID` 에 `ProductsInCategory`입니다.</span><span class="sxs-lookup"><span data-stu-id="a6c70-178">Set the BulletedLists s `ID` to `ProductsInCategory`.</span></span> <span data-ttu-id="a6c70-179">BulletedList를 통해 지정 된 데이터 필드의 값을 표시 합니다 `DataTextField` 속성에이 컨트롤에 바인딩되어 설정, 제품 정보를 포함 하므로 합니다 `DataTextField` 속성을 `ProductName`.</span><span class="sxs-lookup"><span data-stu-id="a6c70-179">The BulletedList displays the value of the data field specified via the `DataTextField` property; since this control will have product information bound to it, set the `DataTextField` property to `ProductName`.</span></span>


[!code-aspx[Main](custom-buttons-in-the-datalist-and-repeater-cs/samples/sample4.aspx)]

<span data-ttu-id="a6c70-180">에 `ItemCommand` 이벤트 처리기를 사용 하 여이 컨트롤 참조 `e.Item.FindControl("ProductsInCategory")` 선택한 범주와 관련 된 제품 집합에 바인딩합니다.</span><span class="sxs-lookup"><span data-stu-id="a6c70-180">In the `ItemCommand` event handler, reference this control using `e.Item.FindControl("ProductsInCategory")` and bind it to the set of products associated with the selected category.</span></span>


[!code-csharp[Main](custom-buttons-in-the-datalist-and-repeater-cs/samples/sample5.cs)]

<span data-ttu-id="a6c70-181">작업을 수행 하기 전에 합니다 `ItemCommand` 이벤트 처리기를이 s 먼저 들어오는 값을 확인 하는 것이 좋습니다 `CommandName`합니다.</span><span class="sxs-lookup"><span data-stu-id="a6c70-181">Before performing any action in the `ItemCommand` event handler, it s prudent to first check the value of the incoming `CommandName`.</span></span> <span data-ttu-id="a6c70-182">이후를 `ItemCommand` 이벤트 처리기를 실행 하는 경우 *모든* 템플릿 사용에서 단추를 여러 개 있는 경우 단추를 클릭 합니다 `CommandName` 값에 수행할 동작을 파악 하기.</span><span class="sxs-lookup"><span data-stu-id="a6c70-182">Since the `ItemCommand` event handler fires when *any* button is clicked, if there are multiple buttons in the template use the `CommandName` value to discern what action to take.</span></span> <span data-ttu-id="a6c70-183">검사는 `CommandName` 여기는 생각해 볼 여지가 단추 하나만 있으므로 이지만 폼에 좋은 습관입니다.</span><span class="sxs-lookup"><span data-stu-id="a6c70-183">Checking the `CommandName` here is moot, since we only have a single button, but it is a good habit to form.</span></span> <span data-ttu-id="a6c70-184">다음으로 `CategoryID` 선택한 범주에서 검색 되는 `CommandArgument` 속성.</span><span class="sxs-lookup"><span data-stu-id="a6c70-184">Next, the `CategoryID` of the selected category is retrieved from the `CommandArgument` property.</span></span> <span data-ttu-id="a6c70-185">BulletedList 컨트롤 템플릿에서 다음 참조 하 고 결과에 연결 합니다 `ProductsBLL` s 클래스 `GetProductsByCategoryID(categoryID)` 메서드.</span><span class="sxs-lookup"><span data-stu-id="a6c70-185">The BulletedList control in the template is then referenced and bound to the results of the `ProductsBLL` class s `GetProductsByCategoryID(categoryID)` method.</span></span>

<span data-ttu-id="a6c70-186">같은 DataList, 내에서 단추를 사용 하는 이전 자습서 [An 개요의 편집 및 DataList에서 데이터 삭제](../editing-and-deleting-data-through-the-datalist/an-overview-of-editing-and-deleting-data-in-the-datalist-cs.md)를 통해 지정된 된 항목의 기본 키 값을 확인 했습니다는 `DataKeys` 컬렉션입니다.</span><span class="sxs-lookup"><span data-stu-id="a6c70-186">In previous tutorials that used the buttons within a DataList, such as [An Overview of Editing and Deleting Data in the DataList](../editing-and-deleting-data-through-the-datalist/an-overview-of-editing-and-deleting-data-in-the-datalist-cs.md), we determined the primary key value of a given item via the `DataKeys` collection.</span></span> <span data-ttu-id="a6c70-187">Repeater에 없는이 이렇게 DataList와 잘 작동 하는 동안는 `DataKeys` 속성입니다.</span><span class="sxs-lookup"><span data-stu-id="a6c70-187">While this approach works well with the DataList, the Repeater does not have a `DataKeys` property.</span></span> <span data-ttu-id="a6c70-188">단추 s 통해 같은 기본 키 값을 제공 하는 것에 대 한 대체 방법을 사용 해야 합니다 대신 `CommandArgument` 속성 합니다 년대에서해당값을읽고숨겨진된Label웹컨트롤템플릿내에서기본키값을할당하거나`ItemCommand`이벤트 처리기를 사용 하 여 `e.Item.FindControl("LabelID")`입니다.</span><span class="sxs-lookup"><span data-stu-id="a6c70-188">Instead, we must use an alternative approach for supplying the primary key value, such as through the button s `CommandArgument` property or by assigning the primary key value to a hidden Label Web control within the template and reading its value back in the `ItemCommand` event handler using `e.Item.FindControl("LabelID")`.</span></span>

<span data-ttu-id="a6c70-189">완료 한 후의 `ItemCommand` 이벤트 처리기를 잠시이 페이지를 브라우저에서 테스트 합니다.</span><span class="sxs-lookup"><span data-stu-id="a6c70-189">After completing the `ItemCommand` event handler, take a moment to test out this page in a browser.</span></span> <span data-ttu-id="a6c70-190">그림 7에서 알 수 있듯이, 클릭 하면 표시 제품 링크 포스트백을 발생 시키는 고를 BulletedList에 선택한 범주에 대 한 제품 표시.</span><span class="sxs-lookup"><span data-stu-id="a6c70-190">As Figure 7 shows, clicking the Show Products link causes a postback and displays the products for the selected category in a BulletedList.</span></span> <span data-ttu-id="a6c70-191">또한 다른 범주의 제품 표시 링크를 클릭할 경우에이 제품 정보 남아 note 합니다.</span><span class="sxs-lookup"><span data-stu-id="a6c70-191">Furthermore, note that this product information remains, even if other categories Show Products links are clicked.</span></span>

> [!NOTE]
> <span data-ttu-id="a6c70-192">한 번에 하나의 범주의 제품 나와 되도록이 보고서의 동작을 수정 하려면, s BulletedList 컨트롤을 설정 하면 됩니다 `EnableViewState` 속성을 `False`입니다.</span><span class="sxs-lookup"><span data-stu-id="a6c70-192">If you want to modify the behavior of this report, such that the only one category s products are listed at a time, simply set the BulletedList control s `EnableViewState` property to `False`.</span></span>


<span data-ttu-id="a6c70-193">[![선택한 범주의 제품을 전시 하기를 BulletedList는](custom-buttons-in-the-datalist-and-repeater-cs/_static/image16.png)](custom-buttons-in-the-datalist-and-repeater-cs/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="a6c70-193">[![A BulletedList is used to Display the Products of the Selected Category](custom-buttons-in-the-datalist-and-repeater-cs/_static/image16.png)](custom-buttons-in-the-datalist-and-repeater-cs/_static/image15.png)</span></span>

<span data-ttu-id="a6c70-194">**그림 7**: 선택한 범주의 제품을 전시 하기는 BulletedList는 ([큰 이미지를 보려면 클릭](custom-buttons-in-the-datalist-and-repeater-cs/_static/image17.png))</span><span class="sxs-lookup"><span data-stu-id="a6c70-194">**Figure 7**: A BulletedList is used to Display the Products of the Selected Category ([Click to view full-size image](custom-buttons-in-the-datalist-and-repeater-cs/_static/image17.png))</span></span>


## <a name="summary"></a><span data-ttu-id="a6c70-195">요약</span><span class="sxs-lookup"><span data-stu-id="a6c70-195">Summary</span></span>

<span data-ttu-id="a6c70-196">DataList 및 반복기 컨트롤에는 임의 개수의 단추, Linkbutton, 또는 ImageButtons 해당 템플릿 내에서 포함할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a6c70-196">The DataList and Repeater controls can include any number of Buttons, LinkButtons, or ImageButtons within their templates.</span></span> <span data-ttu-id="a6c70-197">이러한 단추를 클릭 하면 포스트백을 발생 시키고는 `ItemCommand` 이벤트입니다.</span><span class="sxs-lookup"><span data-stu-id="a6c70-197">Such buttons, when clicked, cause a postback and raise the `ItemCommand` event.</span></span> <span data-ttu-id="a6c70-198">클릭 되는 단추를 사용 하 여 사용자 지정 서버 쪽 작업에 연결 하려면 만들기에 대 한 이벤트 처리기는 `ItemCommand` 이벤트입니다.</span><span class="sxs-lookup"><span data-stu-id="a6c70-198">To associate custom server-side action with a button being clicked, create an event handler for the `ItemCommand` event.</span></span> <span data-ttu-id="a6c70-199">이 이벤트 처리기에서 먼저 들어오는 확인 `CommandName` 단추를 클릭 했는지 확인 하는 값입니다.</span><span class="sxs-lookup"><span data-stu-id="a6c70-199">In this event handler first check the incoming `CommandName` value to determine which button was clicked.</span></span> <span data-ttu-id="a6c70-200">추가 정보 필요에 따라 단추 s 통해 제공 될 수 있습니다 `CommandArgument` 속성입니다.</span><span class="sxs-lookup"><span data-stu-id="a6c70-200">Additional information can optionally be supplied through the button s `CommandArgument` property.</span></span>

<span data-ttu-id="a6c70-201">즐거운 프로그래밍!</span><span class="sxs-lookup"><span data-stu-id="a6c70-201">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="a6c70-202">저자 소개</span><span class="sxs-lookup"><span data-stu-id="a6c70-202">About the Author</span></span>

<span data-ttu-id="a6c70-203">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), 7 ASP/ASP.NET 서적의 저자 이자 설립자입니다 [4GuysFromRolla.com](http://www.4guysfromrolla.com), 1998 Microsoft 웹 기술을 사용 하 여 왔습니다.</span><span class="sxs-lookup"><span data-stu-id="a6c70-203">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="a6c70-204">Scott는 독립 컨설턴트, 강사, 그리고 기록기로 작동합니다.</span><span class="sxs-lookup"><span data-stu-id="a6c70-204">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="a6c70-205">최근 저서는 [ *Sams 설명 직접 ASP.NET 2.0 24 시간 동안의*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco)합니다.</span><span class="sxs-lookup"><span data-stu-id="a6c70-205">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="a6c70-206">그에 도달할 수 있습니다 [ mitchell@4GuysFromRolla.com합니다.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="a6c70-206">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="a6c70-207">찾을 수 있는 저자의 블로그를 통해 또는 [ http://ScottOnWriting.NET ](http://ScottOnWriting.NET)합니다.</span><span class="sxs-lookup"><span data-stu-id="a6c70-207">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="a6c70-208">특별히 감사</span><span class="sxs-lookup"><span data-stu-id="a6c70-208">Special Thanks To</span></span>

<span data-ttu-id="a6c70-209">이 자습서 시리즈는 많은 유용한 검토자가 검토 되었습니다.</span><span class="sxs-lookup"><span data-stu-id="a6c70-209">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="a6c70-210">이 자습서에 대 한 선행 검토자 Dennis Patterson 했습니다.</span><span class="sxs-lookup"><span data-stu-id="a6c70-210">Lead reviewer for this tutorial was Dennis Patterson.</span></span> <span data-ttu-id="a6c70-211">내 향후 MSDN 문서를 검토에 관심이 있으십니까?</span><span class="sxs-lookup"><span data-stu-id="a6c70-211">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="a6c70-212">그렇다면 삭제 나에서 선 [ mitchell@4GuysFromRolla.com합니다.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="a6c70-212">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="a6c70-213">다음</span><span class="sxs-lookup"><span data-stu-id="a6c70-213">Next</span></span>](custom-buttons-in-the-datalist-and-repeater-vb.md)
